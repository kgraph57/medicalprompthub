# データの正規化と標準化

## このレッスンで学ぶこと

このレッスンでは、データの正規化と標準化の方法を学びます。
異なるスケールのデータを統一し、AIモデルの性能を向上させる方法を習得します。

---

## セクション1: なぜ正規化・標準化が必要か

### スケールの違いの問題

医療データには、異なるスケールの変数が含まれます。

例：
- 年齢: 0-100歳
- 体重: 30-150kg
- 血糖値: 70-200 mg/dL
- 血圧: 80-200 mmHg

問題：
- スケールが大きい変数がモデルに大きな影響を与える
- 学習が不安定になる
- 収束が遅くなる

### 正規化・標準化の効果

正規化・標準化により、以下の効果が得られます：

- すべての変数を同じスケールに統一
- 学習の安定化
- 収束の高速化
- モデルの性能向上

---

## セクション2: 正規化（Normalization）

### Min-Max正規化

値を0-1の範囲に変換します。

公式：
```
x_normalized = (x - min) / (max - min)
```

特徴：
- 0-1の範囲に変換
- 元の分布の形状を保持
- 外れ値の影響を受けやすい

適用条件：
- データの範囲が明確
- 外れ値が少ない

### 医療データでの例

血液検査データの正規化：

- 元の値: 70-200 mg/dL
- 正規化後: 0-1

メリット：
- すべての検査値を同じスケールで比較
- モデルの学習が安定

---

## セクション3: 標準化（Standardization）

### Zスコア標準化

値を平均0、標準偏差1に変換します。

公式：
```
x_standardized = (x - mean) / std
```

特徴：
- 平均0、標準偏差1
- 正規分布に近づける
- 外れ値の影響を受けやすい

適用条件：
- データが正規分布に近い
- 平均と標準偏差が意味を持つ

### ロバスト標準化

中央値とIQRを使用して標準化します。

公式：
```
x_robust = (x - median) / IQR
```

特徴：
- 外れ値の影響を受けにくい
- ロバストな標準化

適用条件：
- 外れ値が多い
- 分布が歪んでいる

---

## セクション4: 正規化と標準化の選択

### 正規化を選ぶ場合

- データの範囲が明確
- 0-1の範囲に変換したい
- ニューラルネットワークで使用

### 標準化を選ぶ場合

- データが正規分布に近い
- 平均と標準偏差が意味を持つ
- 線形モデルで使用

### どちらも試す

実際には、両方を試して最適な方法を選択します。

- 正規化と標準化を比較
- モデルの性能を評価
- 最適な方法を選択

---

## セクション5: 実践例

### 例1: 複数の検査値の標準化

複数の血液検査値を標準化します。

手順：
1. 各検査値の平均と標準偏差を計算
2. Zスコア標準化を実施
3. 標準化後のデータでモデルを学習

効果：
- すべての検査値を同じスケールで比較
- モデルの学習が安定

### 例2: 画像データの正規化

医療画像データを正規化します。

手順：
1. ピクセル値を0-255から0-1に変換
2. 画像間の輝度を統一
3. モデルに投入

効果：
- 学習の安定化
- 収束の高速化

---

## まとめ：データの正規化と標準化を理解する

このレッスンでは、データの正規化と標準化の方法を学びました。

重要なポイント：
1. 正規化は0-1の範囲に変換
2. 標準化は平均0、標準偏差1に変換
3. データの特性に応じて選択する
4. 両方を試して最適な方法を選択する

### 次のステップ

次のレッスンでは、特徴量エンジニアリングについて詳しく学びます。

---

更新日: 2025年12月

