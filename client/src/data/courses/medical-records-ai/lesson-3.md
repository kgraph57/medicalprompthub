# レッスン3: 重要情報の抽出と要約 - 効率的な診療録管理

## 1. はじめに

診療録から重要な情報を抽出し、要約することは、診療の質と効率を向上させるために重要です。本レッスンでは、AIを使って診療録から重要情報を抽出し、要約する方法について詳しく学びます。

特に、診断名、検査結果、処方内容などの重要情報の自動抽出、長い診療録の自動要約などの実践例を通じて理解します。

## 2. 重要情報の抽出

### キー情報の識別

AIを使って、診療録から重要な情報を自動的に抽出できます。

**抽出できる情報の種類：**

- **診断名**: 診断名とICD-10コード
- **検査結果**: 異常な検査値と正常値との比較
- **処方内容**: 処方された薬剤と用量
- **バイタルサイン**: 重要なバイタルサイン（体温、血圧、脈拍など）
- **症状**: 主な症状と随伴症状
- **既往歴**: 重要な既往歴
- **アレルギー**: アレルギー情報

**実際の例：診断名の抽出**

```
元の診療録：

「55歳男性、主訴は胸痛。3時間前から症状あり。胸部中央が締め付けられるような痛み。
左肩に放散痛あり。冷や汗も伴う。既往歴は高血圧、糖尿病。喫煙歴30年。
心電図でST上昇、トロポニン陽性。急性心筋梗塞と診断。カテーテル治療を実施。」

AI抽出結果：

【抽出された重要情報】

1. 診断名：
   - 急性心筋梗塞（STEMI）
   - ICD-10: I21.9

2. 検査結果：
   - 心電図：ST上昇
   - 血液検査：トロポニン陽性

3. 処方内容：
   - 処方なし（緊急治療としてカテーテル治療を実施）

4. バイタルサイン：
   - 冷や汗あり

5. 症状：
   - 主訴：胸痛
   - 現病歴：胸部中央が締め付けられるような痛み、左肩に放散痛あり

6. 既往歴：
   - 高血圧
   - 糖尿病
   - 喫煙歴：20本/日を30年間

7. 治療：
   - カテーテル治療を実施
```

### 検査結果の抽出

AIを使って、検査結果から重要な情報を抽出できます。

**抽出できる情報：**

- **異常値**: 正常値から外れた検査値
- **変化**: 前回の検査結果からの変化
- **傾向**: 検査値の時間的な傾向

**実際の例：検査結果の抽出**

```
元の診療録：

「血液検査結果：
- WBC: 12,000/μL（正常値：4,000-10,000）
- Hb: 14.0 g/dL（正常値：13.5-17.0）
- Plt: 250,000/μL（正常値：150,000-400,000）
- CRP: 5.2 mg/dL（正常値：0.3以下）
- AST: 35 U/L（正常値：10-40）
- ALT: 38 U/L（正常値：10-40）
- Cr: 1.2 mg/dL（正常値：0.6-1.1）」

AI抽出結果：

【抽出された重要情報】

異常値：
- WBC: 12,000/μL（軽度上昇、正常上限を超える）
- CRP: 5.2 mg/dL（著明上昇、正常値の17倍）
- Cr: 1.2 mg/dL（軽度上昇、正常上限を超える）

正常値：
- Hb: 14.0 g/dL（正常範囲内）
- Plt: 250,000/μL（正常範囲内）
- AST: 35 U/L（正常範囲内）
- ALT: 38 U/L（正常範囲内）

推奨アクション：
- WBC上昇とCRP著明上昇から、炎症性疾患の可能性
- Cr軽度上昇から、腎機能のモニタリングを推奨
```

### 処方内容の抽出

AIを使って、処方内容から重要な情報を抽出できます。

**抽出できる情報：**

- **薬剤名**: 処方された薬剤名
- **用量**: 薬剤の用量と用法
- **期間**: 処方期間
- **相互作用**: 薬剤間の相互作用

**実際の例：処方内容の抽出**

```
元の診療録：

「処方：
- ロキソプロフェン 60mg 1回1錠 1日3回 食後 7日分
- アモキシシリン 500mg 1回1錠 1日3回 食後 7日分
- アセトアミノフェン 500mg 1回1錠 頓用 7日分」

AI抽出結果：

【抽出された処方内容】

1. ロキソプロフェン 60mg
   - 用量：1回1錠、1日3回
   - 用法：食後
   - 期間：7日分
   - 分類：NSAIDs（非ステロイド性抗炎症薬）

2. アモキシシリン 500mg
   - 用量：1回1錠、1日3回
   - 用法：食後
   - 期間：7日分
   - 分類：抗菌薬（ペニシリン系）

3. アセトアミノフェン 500mg
   - 用量：1回1錠、頓用
   - 期間：7日分
   - 分類：解熱鎮痛薬

注意事項：
- ロキソプロフェンとアセトアミノフェンの併用は可能
- アモキシシリンの使用により、細菌感染症の可能性
```

## 3. 診療録の要約

### 自動要約の方法

AIを使って、長い診療録を自動的に要約できます。

**要約の目的：**

- **要点の把握**: 診療録の要点を素早く把握
- **時間の短縮**: 診療録の確認時間を短縮
- **見落としの防止**: 重要な情報を見落とすことを防ぐ

**実際の例：長い診療録の要約**

```
元の診療録（長文）：

「65歳男性、主訴は発熱と咳嗽。3日前から症状あり。38.5℃の発熱、咳嗽、喀痰あり。
食欲不振、倦怠感も伴う。既往歴は高血圧、糖尿病、慢性腎不全（CKD Stage 3）。
現在の内服薬は、アムロジピン 5mg 1日1回、メトホルミン 500mg 1日2回、ロサルタン 50mg 1日1回。
身体所見では、体温38.5℃、血圧130/80 mmHg、脈拍96/分、呼吸数20/分。
胸部聴診で、右下肺野にfine cracklesを聴取。腹部は柔軟、圧痛なし。
血液検査結果：WBC 12,000/μL、CRP 5.2 mg/dL、Cr 1.5 mg/dL（ベースライン1.3）。
胸部X線検査で、右下肺野に浸潤影を認める。
急性気管支炎の可能性、細菌性肺炎の可能性もあり。
治療として、アモキシシリン/クラブラン酸 500/125mg 1回2錠 1日3回 食後 7日分を処方。
解熱鎮痛薬として、ロキソプロフェン 60mg 1回1錠 1日3回 食後 7日分を処方。
咳止めとして、ジヒドロコデインリン酸塩 20mg 1回1錠 1日3回 食後 7日分を処方。
1週間後に再診予定。症状が悪化した場合は、すぐに受診するよう指示。
経過観察の計画を立てる。」

AI要約結果：

【診療録の要約】

主訴：発熱と咳嗽（3日前から）

現病歴：
- 発熱：38.5℃
- 咳嗽、喀痰あり
- 食欲不振、倦怠感あり

既往歴：
- 高血圧、糖尿病、慢性腎不全（CKD Stage 3）

現在の内服薬：
- アムロジピン 5mg 1日1回
- メトホルミン 500mg 1日2回
- ロサルタン 50mg 1日1回

身体所見：
- 体温38.5℃、血圧130/80 mmHg、脈拍96/分
- 胸部聴診：右下肺野にfine crackles

検査結果：
- WBC 12,000/μL（軽度上昇）
- CRP 5.2 mg/dL（著明上昇）
- Cr 1.5 mg/dL（ベースラインから軽度上昇）
- 胸部X線：右下肺野に浸潤影

診断：
- 急性気管支炎の可能性
- 細菌性肺炎の可能性

処方：
1. アモキシシリン/クラブラン酸 500/125mg 1回2錠 1日3回 食後 7日分
2. ロキソプロフェン 60mg 1回1錠 1日3回 食後 7日分
3. ジヒドロコデインリン酸塩 20mg 1回1錠 1日3回 食後 7日分

フォローアップ：
- 1週間後に再診予定
- 症状が悪化した場合は、すぐに受診

【重要ポイント】
- 発熱とCRP著明上昇から、細菌性感染症の可能性
- 慢性腎不全の患者のため、Crのモニタリングが必要
- 抗菌薬とNSAIDsの併用に注意
```

### 要約の粒度調整

要約の粒度を調整することで、用途に応じた要約を作成できます。

**要約の粒度：**

- **簡潔な要約**: 主要な情報のみ（数行）
- **標準的な要約**: 重要な情報を含む（段落程度）
- **詳細な要約**: 詳細な情報を含む（複数段落）

**実際の例：粒度の調整**

```
元の診療録（上記と同じ）

1. 簡潔な要約（1-2行）：

「65歳男性、発熱と咳嗽。右下肺野に浸潤影。細菌性肺炎の可能性。
アモキシシリン/クラブラン酸、ロキソプロフェン、ジヒドロコデインを処方。
1週間後に再診予定。」

2. 標準的な要約（段落程度）：

【要約】
65歳男性、主訴は発熱と咳嗽（3日前から）。発熱38.5℃、咳嗽、喀痰あり。
既往歴は高血圧、糖尿病、慢性腎不全（CKD Stage 3）。
身体所見で右下肺野にfine crackles。検査でWBC 12,000/μL、CRP 5.2 mg/dL、胸部X線で右下肺野に浸潤影。
診断は細菌性肺炎の可能性。アモキシシリン/クラブラン酸、ロキソプロフェン、ジヒドロコデインを処方。
1週間後に再診予定。慢性腎不全のため、Crのモニタリングが必要。

3. 詳細な要約（複数段落）：

【詳細な要約】
[上記の標準的な要約と同じ内容]
```

## 4. AIを活用した抽出と要約

### プロンプトの作成

AIを使って、診療録から重要情報を抽出し、要約するためのプロンプトを作成します。

**実際の例：重要情報抽出のプロンプト**

```
プロンプト例：

以下の診療録から、重要情報を抽出してください。

[診療録を貼り付け]

抽出すべき情報：
1. 診断名（ICD-10コードも含める）
2. 異常な検査値
3. 処方内容（薬剤名、用量、用法）
4. 重要なバイタルサイン
5. 主な症状
6. 重要な既往歴
7. 治療内容

抽出後、JSON形式で出力してください。
```

**実際の例：要約のプロンプト**

```
プロンプト例：

以下の診療録を要約してください。

[診療録を貼り付け]

要約の要件：
1. 主訴、現病歴、既往歴、身体所見、検査結果、診断、治療計画を含める
2. 重要な情報は省略しない
3. 簡潔で、かつ完全な要約
4. 医療専門用語を使用
```

### 抽出結果の確認と編集

AI抽出結果は、必ず確認し、必要に応じて編集します。

**確認のポイント：**

- **正確性**: 抽出された情報が正確か
- **完全性**: 重要な情報が漏れていないか
- **一貫性**: 情報の一貫性があるか

**実際の例：抽出結果の確認と編集**

```
AI抽出結果：

【抽出された重要情報】

診断名：
- 急性心筋梗塞（STEMI）
- ICD-10: I21.9

検査結果：
- 心電図：ST上昇
- 血液検査：トロポニン陽性

[その他の情報...]

確認と修正：

✓ 診断名：正確
✓ 検査結果：正確
✓ 処方内容：正確
⚠ 既往歴：「高血圧、糖尿病」のみ抽出されているが、
   喫煙歴も重要なリスク因子として追加すべき

修正後：
- 既往歴：高血圧、糖尿病、喫煙歴（20本/日を30年間）
```

## 5. 実践的な活用例

### 他医師への引き継ぎ

重要情報の抽出と要約により、他医師への引き継ぎが容易になります。

**実際の例：引き継ぎ用の要約**

```
引き継ぎ用の要約：

【患者情報】
- 65歳男性
- 既往歴：高血圧、糖尿病、慢性腎不全（CKD Stage 3）

【現在の状態】
- 発熱と咳嗽（3日前から）
- 診断：細菌性肺炎の可能性

【重要情報】
- CRP 5.2 mg/dL（著明上昇）
- 胸部X線：右下肺野に浸潤影
- Cr 1.5 mg/dL（ベースラインから軽度上昇）

【現在の治療】
- アモキシシリン/クラブラン酸 500/125mg 1回2錠 1日3回
- ロキソプロフェン 60mg 1回1錠 1日3回
- ジヒドロコデインリン酸塩 20mg 1回1錠 1日3回

【注意事項】
- 慢性腎不全のため、Crのモニタリングが必要
- 抗菌薬とNSAIDsの併用に注意

【フォローアップ】
- 1週間後に再診予定
```

### 診療録の検索

重要情報が抽出された診療録は、検索が容易になります。

**実際の例：診療録の検索**

```
検索例：

1. 診断名で検索：
   - 「細菌性肺炎」で検索
   - 関連する診療録を抽出

2. 検査結果で検索：
   - 「CRP 5.0以上」で検索
   - 異常値のある診療録を抽出

3. 処方内容で検索：
   - 「アモキシシリン」で検索
   - 関連する診療録を抽出
```

## 6. まとめ

本レッスンでは、重要情報の抽出と要約について学びました。診断名、検査結果、処方内容などの重要情報の自動抽出、長い診療録の自動要約、AIを活用した抽出と要約のプロセスなどの実践例を通じて、効率的な診療録管理方法を理解しました。

AIを適切に活用することで、診療録から重要情報を効率的に抽出し、要約できます。特に、他医師への引き継ぎや診療録の検索において、その効果が発揮されます。

次のレッスンでは、診療録の検索と分析について詳しく学びます。診療録を検索し、分析する方法を理解していきましょう。

---

### 参考資料

- [Natural Language Processing in Healthcare](https://www.nature.com/articles/s41591-019-0522-4): 医療における自然言語処理の研究
- [Text Summarization Techniques](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6268174/): テキスト要約技術に関する研究
- [Clinical Information Extraction](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6268174/): 臨床情報抽出に関する研究
