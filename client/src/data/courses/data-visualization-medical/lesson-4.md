# レッスン4: 研究でのデータ可視化 - 論文とプレゼンテーションでの可視化

## 1. はじめに

研究において、データの可視化は非常に重要です。論文やプレゼンテーションで、データを効果的に可視化することで、研究結果を明確に伝えることができます。本レッスンでは、研究でのデータ可視化方法について、論文での可視化、プレゼンテーションでの可視化などの実践例を通じて詳しく学びます。

特に、学術的な標準に従い、再現性の高い可視化を行うことで、研究の信頼性を向上させることができます。

## 2. 論文での可視化

### 標準的な形式

論文では、学術雑誌の標準的な形式に従って、図表を作成する必要があります。

**標準的な形式の要素：**

- **図のサイズ**: 学術雑誌の規定サイズに合わせる
- **解像度**: 印刷時に鮮明に表示できる解像度（通常300dpi以上）
- **フォント**: 読みやすいフォントを使用（Arial、Times New Romanなど）
- **色**: 印刷時にも見分けやすい色を使用（カラーとモノクロの両方を考慮）

**実際の例：論文図表の作成**

```
論文図表の例：

図1：血糖値の推移

要件：
- サイズ：1カラム幅（幅：8.5cm、高さ：6cm）
- 解像度：300dpi
- フォント：Arial、サイズ：10pt
- 色：カラーとモノクロの両方で見分けられる

グラフの構成：
- タイトル：「HbA1cの推移」
- 縦軸：「HbA1c (%)」
- 横軸：「期間（月）」
- ライン1：介入群（青、実線）
- ライン2：対照群（赤、破線）
- 凡例：グラフ内またはグラフの下

統計情報：
- エラーバー：標準偏差または95%信頼区間
- 統計的有意性：*p < 0.05, **p < 0.01

図表説明：
「図1. HbA1cの推移。介入群（青、n=50）と対照群（赤、n=50）を比較。
エラーバーは標準偏差を示す。*p < 0.05, **p < 0.01。」
```

### 高解像度での作成

論文では、印刷時に鮮明に表示できる解像度で図表を作成する必要があります。

**解像度の要件：**

- **印刷用**: 300dpi以上
- **オンライン用**: 72-150dpi（通常は300dpiで作成し、縮小）
- **ファイル形式**: PDF、EPS、TIFFなど

**実際の例：解像度の設定**

```
解像度の設定例（Python、matplotlib）：

```python
import matplotlib.pyplot as plt

# 解像度を設定（300dpi）
plt.figure(figsize=(8.5, 6), dpi=300)

# グラフを作成
plt.plot(data['time'], data['value1'], label='Intervention')
plt.plot(data['time'], data['value2'], label='Control')

# ラベルとタイトル
plt.xlabel('Time (months)', fontsize=12)
plt.ylabel('HbA1c (%)', fontsize=12)
plt.title('HbA1c Over Time', fontsize=14)
plt.legend(fontsize=10)

# 保存（高解像度）
plt.savefig('figure1.png', dpi=300, bbox_inches='tight')
plt.savefig('figure1.pdf', dpi=300, bbox_inches='tight')
```

### 説明の追加

論文では、図表に適切な説明を追加する必要があります。

**説明の要素：**

- **図表番号**: 図1、図2など
- **タイトル**: 図表の内容を簡潔に表現
- **詳細な説明**: 図表説明（Figure legend）で詳細を説明

**実際の例：図表説明の作成**

```
図表説明の例：

図1. HbA1cの推移

介入群と対照群のHbA1cの推移を示す。
介入群（青、n=50）では、12ヶ月間でHbA1cが7.8%から6.9%に低下した。
対照群（赤、n=50）では、12ヶ月間でHbA1cが7.7%から7.5%に低下した。
エラーバーは標準偏差を示す。
介入群では、3ヶ月目、6ヶ月目、12ヶ月目で、対照群と比較して
統計的に有意な差が認められた（*p < 0.05, **p < 0.01）。

データは平均±標準偏差で示す。統計解析は、t検定を使用した。
```

## 3. プレゼンテーションでの可視化

### 効果的な表示

プレゼンテーションでは、遠くからでも見える、わかりやすい可視化が必要です。

**効果的な表示のポイント：**

- **1スライドに1つのメッセージ**: 1つのスライドに1つのメッセージを伝える
- **大きな文字**: 遠くからでも読める大きな文字（最小18pt）
- **シンプルなデザイン**: 複雑なデザインは避け、シンプルに

**実際の例：プレゼンテーションスライドの作成**

```
プレゼンテーションスライドの例：

スライド1：研究の目的

タイトル：「AIを活用した診断支援システムの効果」

背景：
「診断支援システムの効果を検証するため、
ランダム化比較試験を実施しました。」

スライド2：主要な結果

タイトル：「HbA1cの改善効果」

[大きなグラフ]
- グラフ：HbA1cの推移（大きなサイズ）
- 介入群：7.8% → 6.9%（青、太い線）
- 対照群：7.7% → 7.5%（赤、太い線）
- 統計的有意性：**p < 0.01

メッセージ：
「介入群では、対照群と比較して、
HbA1cが0.6%多く改善しました（p < 0.01）。」
```

### 読みやすさ

プレゼンテーションでは、遠くからでも読めるように、読みやすさを確保する必要があります。

**読みやすさのポイント：**

- **大きな文字**: 最小18pt、通常24-32pt
- **十分なコントラスト**: 文字と背景のコントラストを確保
- **短いテキスト**: 長い文章は避け、要点のみ

**実際の例：読みやすさの確保**

```
読みやすさの例：

良い例：
- タイトル：32pt、太字
- 本文：24pt
- グラフのラベル：20pt
- 背景：白または薄い色
- 文字：黒または濃い色

悪い例：
- タイトル：12pt
- 本文：10pt
- グラフのラベル：8pt
- 背景：濃い色、文字：薄い色（コントラスト不足）
- 長い文章で説明
```

### 視覚的なインパクト

プレゼンテーションでは、視覚的なインパクトのある可視化が効果的です。

**視覚的なインパクトのポイント：**

- **色の使用**: 効果的に色を使用
- **アニメーション**: 適度にアニメーションを使用（過度は避ける）
- **画像の使用**: 適切に画像を使用

**実際の例：視覚的なインパクト**

```
視覚的なインパクトの例：

スライド：研究結果のまとめ

構成：
1. タイトル：「研究結果のまとめ」
2. 3つの主要な結果を、3つの大きなグラフで表示
   - グラフ1：HbA1cの改善（青、大きく）
   - グラフ2：体重の減少（緑、大きく）
   - グラフ3：生活の質の向上（黄、大きく）
3. 各グラフの下に、簡潔なメッセージ
   - 「HbA1cが0.6%改善」
   - 「体重が3kg減少」
   - 「生活の質が向上」

ポイント：
- 3つのグラフを並べて、視覚的にインパクトを与える
- 色を使って、各結果を区別
- 簡潔なメッセージで、要点を伝える
```

## 4. 統計解析の可視化

### 統計的有意性の表示

研究では、統計的有意性を適切に表示する必要があります。

**統計的有意性の表示方法：**

- **p値の表示**: p値を適切に表示（*p < 0.05, **p < 0.01, ***p < 0.001）
- **信頼区間の表示**: 95%信頼区間を表示
- **エラーバー**: 標準偏差または標準誤差を表示

**実際の例：統計的有意性の表示**

```
統計的有意性の表示例：

グラフ：2群の比較

構成：
- バー1：介入群（青、平均値：6.9%、標準偏差：0.8%）
- バー2：対照群（赤、平均値：7.5%、標準偏差：0.9%）
- エラーバー：標準偏差
- 統計的有意性：**p < 0.01（グラフの上に表示）

図表説明：
「介入群と対照群のHbA1cを比較。
介入群では、対照群と比較して、HbA1cが0.6%低かった
（6.9% vs 7.5%, p < 0.01）。
エラーバーは標準偏差を示す。」
```

### 複数の比較の可視化

複数の群を比較する場合、適切に可視化する必要があります。

**複数の比較の可視化方法：**

- **複数のバー**: 複数の群を並べて表示
- **箱ひげ図**: 複数の群の分布を表示
- **森林図**: 複数の研究結果を統合して表示

**実際の例：複数の比較**

```
複数の比較の例：

グラフ：3群の比較

構成：
- バー1：介入群A（青、平均値：6.8%）
- バー2：介入群B（緑、平均値：6.9%）
- バー3：対照群（赤、平均値：7.5%）
- エラーバー：標準偏差
- 統計的有意性：
  - 介入群A vs 対照群：**p < 0.01
  - 介入群B vs 対照群：*p < 0.05
  - 介入群A vs 介入群B：ns（有意差なし）

図表説明：
「3群のHbA1cを比較。
介入群Aと介入群Bでは、対照群と比較して、
HbA1cが低かった（介入群A: p < 0.01, 介入群B: p < 0.05）。
介入群Aと介入群Bの間には、有意差は認められなかった。」
```

## 5. 再現性の確保

### コードの公開

研究では、可視化のコードを公開することで、再現性を確保できます。

**コード公開のメリット：**

- **再現性の確保**: 他の研究者が再現できる
- **透明性の向上**: 研究の透明性が向上
- **効率性の向上**: 他の研究者がコードを再利用できる

**実際の例：コードの公開**

```
コード公開の例（GitHub）：

リポジトリ：
- プロジェクト名：diabetes-intervention-study
- ファイル構成：
  - data/：データファイル
  - scripts/：分析スクリプト
    - figure1.py：図1の作成スクリプト
    - figure2.py：図2の作成スクリプト
  - figures/：作成した図表
  - README.md：使用方法の説明

README.md：
「このリポジトリには、糖尿病介入研究のデータと分析コードが含まれています。

使用方法：
1. データをダウンロード
2. スクリプトを実行
   python scripts/figure1.py
3. 図表が生成されます

必要なパッケージ：
- Python 3.8以上
- matplotlib 3.3以上
- pandas 1.3以上
- numpy 1.20以上」
```

## 6. まとめ

本レッスンでは、研究でのデータ可視化方法について学びました。論文での可視化、プレゼンテーションでの可視化、統計解析の可視化、再現性の確保などの実践例を通じて、効果的な可視化方法を理解しました。

研究でのデータ可視化により、研究結果を明確に伝えることができます。特に、学術的な標準に従い、再現性の高い可視化を行うことで、研究の信頼性を向上させることができます。

次のレッスンでは、医療データ可視化の実践的活用の総括について詳しく学びます。診療、研究、患者説明など、様々な場面での活用を統合して理解していきましょう。

---

### 参考資料

- [Scientific Data Visualization](https://www.nature.com/articles/s41591-019-0522-4): 科学データ可視化に関する研究
- [Data Visualization Best Practices](https://www.tableau.com/learn/articles/data-visualization): データ可視化のベストプラクティス
- [Reproducible Research](https://www.nature.com/articles/s41591-019-0522-4): 再現可能な研究に関するガイドライン
