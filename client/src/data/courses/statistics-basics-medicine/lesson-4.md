# 相関と回帰分析

## このレッスンで学ぶこと

このレッスンを完了すると、相関と回帰分析の基本を理解し、医療データでの変数間の関係を分析できるようになります。
予測モデルの基礎を学びます。

---

## セクション1: 相関とは何か

### 相関の定義

相関は、2つの変数間の線形関係の強さを表します。

種類：
- **正の相関**: 一方が増えると他方も増える
- **負の相関**: 一方が増えると他方が減る
- **相関なし**: 関係がない

### 相関係数（r）

相関係数は、-1から1の値を取ります。

- **r = 1**: 完全な正の相関
- **r = 0**: 相関なし
- **r = -1**: 完全な負の相関

解釈：
- **|r| > 0.7**: 強い相関
- **0.3 < |r| ≤ 0.7**: 中程度の相関
- **|r| ≤ 0.3**: 弱い相関

---

## セクション2: 相関と因果の違い

### 重要な原則

> 相関は因果関係を意味しない

### 例：相関があるが因果関係がない場合

- アイスクリームの売上と溺死の数に相関がある
- しかし、アイスクリームが溺死の原因ではない
- 共通の原因（気温）がある

### 医療での例

- コーヒーの摂取と長寿に相関がある
- しかし、コーヒーが長寿の直接の原因とは限らない
- 他の要因（生活習慣など）が影響している可能性

---

## セクション3: 回帰分析の基礎

### 回帰分析とは

回帰分析は、変数間の関係を数式で表し、予測を行う手法です。

目的：
- 変数間の関係を理解する
- 一方の変数から他方を予測する

### 単回帰分析

1つの説明変数から目的変数を予測します。

公式：
```
y = a + bx
```

- **y**: 目的変数（予測したい変数）
- **x**: 説明変数（予測に使う変数）
- **a**: 切片
- **b**: 回帰係数（傾き）

---

## セクション4: 回帰分析の評価

### 決定係数（R²）

決定係数は、回帰モデルの当てはまりの良さを表します。

範囲：
- 0から1の値
- 1に近いほど良い

解釈：
- **R² = 0.8**: 説明変数が目的変数の80%を説明
- **R² = 0.3**: 説明変数が目的変数の30%を説明

### 残差

残差は、実際の値と予測値の差です。

- 残差が小さいほど良い
- 残差の分布を確認

---

## セクション5: 医療研究での活用

### 例：血圧と年齢の関係

- 年齢が増えると血圧が上がる
- 回帰分析で関係を定量化
- 年齢から血圧を予測

### 例：薬物投与量と効果の関係

- 投与量が増えると効果が上がる
- 最適な投与量を決定
- 副作用とのバランスを考慮

### 例：複数の要因の影響

- 重回帰分析で複数の要因を同時に考慮
- 年齢、性別、生活習慣など
- 各要因の影響を評価

---

## まとめ：相関と回帰分析を理解する

このレッスンでは、相関と回帰分析の基本を学びました。

重要なポイント：
1. 相関は変数間の線形関係の強さを表す
2. 相関は因果関係を意味しない
3. 回帰分析で変数間の関係を定量化できる
4. 決定係数でモデルの当てはまりを評価する
5. 医療研究で予測モデルとして活用される

### 次のステップ

次のレッスンでは、感度・特異度・ROC曲線について詳しく学びます。

---

更新日: 2025年12月

