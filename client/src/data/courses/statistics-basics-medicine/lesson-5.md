# 感度・特異度・ROC曲線

## このレッスンで学ぶこと

このレッスンを完了すると、診断テストの評価指標を理解し、ROC曲線とAUCの意味を把握できるようになります。
医療AIモデルの性能評価に必要な知識を習得します。

---

## セクション1: 診断テストの評価

### 混同行列

診断テストの結果を整理する表です。

構成：
- **True Positive (TP)**: 正しく陽性と判断
- **True Negative (TN)**: 正しく陰性と判断
- **False Positive (FP)**: 誤って陽性と判断（偽陽性）
- **False Negative (FN)**: 誤って陰性と判断（偽陰性）

### 医療での重要性

診断テストの評価は、医療AIモデルの性能評価に不可欠です。

---

## セクション2: 感度（Sensitivity）

### 感度の定義

感度は、実際に病気の人が、テストで陽性と判断される割合です。

公式：
```
感度 = TP / (TP + FN)
```

別名：
- 真陽性率（True Positive Rate）
- 再現率（Recall）

### 感度の意味

- **高い感度**: 病気を見逃しにくい
- **低い感度**: 病気を見逃しやすい

医療での重要性：
- 見逃してはいけない疾患では、高い感度が重要
- 例：がんのスクリーニング

---

## セクション3: 特異度（Specificity）

### 特異度の定義

特異度は、実際に病気でない人が、テストで陰性と判断される割合です。

公式：
```
特異度 = TN / (TN + FP)
```

別名：
- 真陰性率（True Negative Rate）

### 特異度の意味

- **高い特異度**: 正常を正しく判断できる
- **低い特異度**: 正常を誤って陽性と判断しやすい

医療での重要性：
- 不要な検査や治療を避けるために重要
- 例：確定診断の前のスクリーニング

---

## セクション4: ROC曲線とAUC

### ROC曲線とは

ROC（Receiver Operating Characteristic）曲線は、感度と1-特異度の関係を表す曲線です。

特徴：
- X軸: 1-特異度（偽陽性率）
- Y軸: 感度（真陽性率）
- 閾値を変化させて描画

解釈：
- 左上に近いほど良い
- 対角線に近いほど悪い（ランダムな予測）

### AUC（Area Under the Curve）

AUCは、ROC曲線の下の面積です。

範囲：
- 0.5: ランダムな予測
- 1.0: 完璧な予測

解釈：
- **0.9以上**: 優れた性能
- **0.7-0.9**: 良好な性能
- **0.7未満**: 改善が必要

---

## セクション5: 医療AIでの活用

### 例：画像診断AIの評価

- 感度: 0.90（病気を90%検出）
- 特異度: 0.85（正常を85%正しく判断）
- AUC: 0.92（優れた性能）

### 感度と特異度のトレードオフ

感度と特異度は、通常、トレードオフの関係にあります。

- 感度を上げると特異度が下がる
- 特異度を上げると感度が下がる
- 用途に応じてバランスを調整

### 最適な閾値の選択

ROC曲線を使用して、最適な閾値を選択します。

- 用途に応じて感度または特異度を重視
- 医療現場での実用性を考慮

---

## まとめ：感度・特異度・ROC曲線を理解する

このレッスンでは、診断テストの評価指標を学びました。

重要なポイント：
1. 感度は病気を見逃さない能力
2. 特異度は正常を正しく判断する能力
3. ROC曲線で感度と特異度の関係を可視化
4. AUCでモデルの性能を評価
5. 用途に応じて感度と特異度のバランスを調整

### 次のステップ

次のレッスンでは、生存分析について詳しく学びます。

---

更新日: 2025年12月

