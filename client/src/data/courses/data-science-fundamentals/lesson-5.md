# 特徴量エンジニアリング

## このレッスンで学ぶこと

このレッスンを完了すると、特徴量エンジニアリングの方法を理解し、モデルの性能を向上させる特徴量を作成できるようになります。
生のデータから価値のある特徴量を抽出する方法を学びます。

---

## セクション1: 特徴量エンジニアリングとは

### 特徴量エンジニアリングの定義

特徴量エンジニアリングは、生のデータからモデルの性能を向上させる特徴量を作成するプロセスです。

重要性：
- **モデルの性能**: 特徴量がモデルの性能に大きな影響
- **データの意味**: データの意味を明確にする
- **計算効率**: 計算効率を向上させる

### なぜ重要なのか

> データと特徴量がすべて。アルゴリズムは重要ではない

この言葉は、特徴量エンジニアリングの重要性を示しています。

---

## セクション2: 特徴量の作成方法

### 数値特徴量の変換

数値特徴量を変換します。

- **対数変換**: 歪んだ分布を正規分布に近づける
- **多項式特徴量**: 非線形関係を捉える
- **ビニング**: 連続値をカテゴリに変換

### カテゴリカル特徴量の変換

カテゴリカル特徴量を変換します。

- **ワンホットエンコーディング**: バイナリ変数に変換
- **ターゲットエンコーディング**: カテゴリの平均値を特徴量として使用

### 時系列特徴量の作成

時系列データから特徴量を作成します。

- **ラグ特徴量**: 過去の値
- **移動平均**: 過去N期間の平均
- **変化率**: 前回からの変化率

---

## セクション3: 医療データでの実践例

### 例1: 検査値の特徴量

検査値から特徴量を作成：

- **比率**: AST/ALT比
- **変化率**: 前回からの変化率
- **異常フラグ**: 正常範囲外かどうか

### 例2: 診療録テキストの特徴量

診療録テキストから特徴量を作成：

- **キーワードの出現頻度**: 重要な単語の出現回数
- **文書の長さ**: 文字数、単語数
- **感情スコア**: ポジティブ/ネガティブのスコア

---

## セクション4: 特徴量の選択

### 特徴量選択の重要性

不要な特徴量は、モデルの性能を低下させます。

- 過学習のリスク
- 計算コストの増加
- 解釈の困難さ

### 選択方法

特徴量を選択する方法：

- **相関分析**: 目的変数との相関が高い特徴量を選択
- **特徴量重要度**: モデルの特徴量重要度を使用
- **正則化**: L1正則化により不要な特徴量を削除

---

## セクション5: ベストプラクティス

### 原則1: ドメイン知識を活用

医療の専門知識を活用します。

- 臨床的な意味を考慮
- 専門家の意見を聞く
- 医学文献を参考にする

### 原則2: 段階的に作成

一度にすべてを作成せず、段階的に進めます。

- 基本的な特徴量を作成
- モデルの性能を評価
- 追加の特徴量を作成

### 原則3: 検証データで評価

特徴量の効果は、検証データで評価します。

- 訓練データでの性能は参考程度
- 検証データでの性能が重要
- 過学習に注意

---

## まとめ：特徴量エンジニアリングを理解する

このレッスンでは、特徴量エンジニアリングの方法を学びました。

重要なポイント：
1. 特徴量エンジニアリングはモデルの性能に大きな影響
2. 数値、カテゴリカル、時系列データそれぞれに適した方法
3. 医療データではドメイン知識を活用
4. 段階的に作成し、検証データで評価
5. 特徴量の選択が重要

### 次のステップ

次のレッスンでは、機械学習モデルの基礎について詳しく学びます。

---

更新日: 2025年12月

