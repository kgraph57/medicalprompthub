export interface PromptTip {
  id: string;
  title: string;
  category: 'basic' | 'quality' | 'advanced' | 'medical' | 'interactive';
  level: 'beginner' | 'intermediate' | 'advanced';
  description: string;
  content: string;
  example?: string;
  useCase?: string;
  scenario?: string; // 具体的な使用シチュエーション
  promptTemplate?: string; // コピー可能なプロンプトテンプレート
}

export const tips: PromptTip[] = [
  // 基本テクニック (約10個)
  {
    id: 'zero-shot-prompting',
    title: 'ゼロショットプロンプティング',
    category: 'basic',
    level: 'beginner',
    description: '例示なしでタスクを実行させる基本的なプロンプト手法',
    content: `ゼロショットプロンプティングは、例示を提供せずにモデルにタスクを実行させる手法です。

## 基本的な使い方
直接的にタスクを指示するだけで、モデルが適切に応答します。

例：
\`\`\`
以下の症例を分析し、鑑別診断を3つ挙げてください。
\`\`\`

## メリット
- シンプルで使いやすい
- プロンプトが短くて済む
- 汎用性が高い

## デメリット
- 複雑なタスクには不向き
- 精度が低い場合がある`,
    useCase: 'シンプルな質問応答や基本的な分析タスク',
    scenario: '救急外来で、患者が胸痛を訴えて来院しました。初期評価を迅速に行う必要があり、AIに鑑別診断のリストを提示してもらいたいと考えています。複雑な指示をする時間はなく、シンプルに質問したい状況です。',
    promptTemplate: `以下の指示に従って、追加の例示なしで回答してください。`
  },
  {
    id: 'few-shot-prompting',
    title: 'Few-Shotプロンプティング',
    category: 'basic',
    level: 'beginner',
    description: '数個の例を示してモデルの出力をガイドする手法',
    content: `Few-Shotプロンプティングは、タスクの例を数個示すことで、モデルの出力をガイドする手法です。

## 基本的な使い方
入力と出力のペアを数個示すことで、モデルに期待する形式を伝えます。

例：
\`\`\`
以下の例に従って、症例を分析してください。

例1:
入力: 65歳男性、胸痛、発汗
出力: 急性冠症候群、大動脈解離、肺塞栓

例2:
入力: 30歳女性、右下腹部痛、発熱
出力: 虫垂炎、卵巣嚢腫捻転、子宮外妊娠

入力: 50歳男性、呼吸困難、咳嗽
出力: ?
\`\`\`

## メリット
- 出力形式を明確に指定できる
- 精度が向上する
- 特定のスタイルを学習させられる

## デメリット
- プロンプトが長くなる
- トークン消費が増える`,
    useCase: '特定の形式やスタイルで出力させたい場合',
    scenario: `外来診察で複雑な症例が来院し、医師が迅速かつ正確に診断書の文書作成を求めている。診断書には特定のフォーマットや専門的な表現が必要で、AIに例を示して同様のスタイルで作成させたい。`,
    promptTemplate: `以下の例に従って回答してください。例1: [例の質問と回答]、例2: [例の質問と回答]。これらを参考にしてください。`,
    scenario: `外来診察で複雑な症例が来院し、医師が迅速かつ正確に診断書の文書作成を求めている。診断書には特定のフォーマットや専門的な表現が必要で、AIに例を示して同様のスタイルで作成させたい。`,
    promptTemplate: `以下の診断書の例を参考に、[患者情報]の症例について同様の形式と専門用語を用いて診断書を作成してください。例1: 【患者名】田中太郎、【診断】急性気管支炎、【所見】発熱と咳嗽が1週間続く。胸部聴診で異常なし。治療は抗菌薬投与。例2: 【患者名】鈴木花子、【診断】2型糖尿病、【所見】HbA1c 8.2%、食事療法と内服薬調整中。これらの例に倣い、[症例情報]に基づき、診断名、所見、治療方針を専門的かつ簡潔に記述してください。`
  },
  {
    id: 'chain-of-thought',
    title: 'Chain-of-Thought（思考の連鎖）',
    category: 'basic',
    level: 'intermediate',
    description: '推論過程を段階的に示すことで、複雑な問題解決を支援',
    content: `Chain-of-Thought（CoT）は、モデルに推論過程を段階的に示させる手法です。

## 基本的な使い方
「ステップバイステップで考えてください」などの指示を追加します。

例：
\`\`\`
以下の症例を分析してください。ステップバイステップで考えてください。

1. 主訴と現病歴から重要な情報を抽出
2. バイタルサインと身体所見を評価
3. 鑑別診断をリストアップ
4. 各診断の可能性を評価
5. 最終的な診断を提示

症例: [症例情報]
\`\`\`

## メリット
- 複雑な問題の解決精度が向上
- 推論過程が可視化される
- エラーの原因を特定しやすい

## デメリット
- プロンプトが長くなる
- トークン消費が増える`,
    useCase: '複雑な診断や分析が必要な場合',
    scenario: `多様な症状を持つ患者が救急外来に来院し、複数の鑑別診断が必要な状況です。医師は限られた情報の中で最も可能性の高い診断を導き出すため、AIの推論支援を活用したいと考えています。`,
    promptTemplate: `複雑な問題について、思考の過程を段階的に示しながら説明してください。`,
    scenario: `多様な症状を持つ患者が救急外来に来院し、複数の鑑別診断が必要な状況です。医師は限られた情報の中で最も可能性の高い診断を導き出すため、AIの推論支援を活用したいと考えています。`,
    promptTemplate: `以下の[患者情報]と[症例情報]をもとに、ステップバイステップで鑑別診断を行い、各ステップで考慮すべき臨床所見や検査結果を含めて説明してください。最終的に最も可能性の高い診断とその根拠を示し、必要な追加検査や治療方針も提案してください。思考の連鎖を明確に示すことで、複雑な診断過程を分かりやすく解説してください。`
  },
  {
    id: 'role-playing',
    title: 'ロールプレイング',
    category: 'basic',
    level: 'beginner',
    description: 'モデルに特定の役割を演じさせることで、専門的な回答を得る',
    content: `ロールプレイングは、モデルに特定の役割を演じさせる手法です。

## 基本的な使い方
「あなたは〇〇です」という形式で役割を指定します。

例：
\`\`\`
あなたは経験豊富な総合診療医です。以下の症例について、鑑別診断を提示してください。

症例: [症例情報]
\`\`\`

## メリット
- 専門的な視点での回答が得られる
- 一貫性のある出力が期待できる
- コンテキストが明確になる

## デメリット
- 役割設定が不適切だと精度が下がる
- 過度に専門的になりすぎる場合がある`,
    useCase: '専門家の視点での分析やアドバイスが必要な場合',
    scenario: `救急外来で、非典型的な症状を呈する高齢患者が来院しました。初期診断が難しく、専門的な視点からの詳細な鑑別診断と治療方針の提案が求められています。`,
    promptTemplate: `あなたは医療現場の専門医として振る舞い、専門的かつ的確な回答を提供してください。`,
    scenario: `救急外来で、非典型的な症状を呈する高齢患者が来院しました。初期診断が難しく、専門的な視点からの詳細な鑑別診断と治療方針の提案が求められています。`,
    promptTemplate: `あなたは経験豊富な内科専門医として振る舞ってください。[患者情報]と[症例情報]をもとに、現在の症状、既往歴、検査結果を考慮しながら、鑑別診断をステップバイステップで分析してください。その上で、最も可能性の高い診断と推奨される治療計画を具体的に説明してください。`
  },
  {
    id: 'structured-output',
    title: '構造化出力',
    category: 'basic',
    level: 'beginner',
    description: '出力形式を明確に指定して、構造化されたデータを得る',
    content: `構造化出力は、出力形式を明確に指定する手法です。

## 基本的な使い方
JSON、マークダウン、リストなどの形式を指定します。

例：
\`\`\`
以下の症例を分析し、以下のJSON形式で出力してください。

{
  "主訴": "",
  "鑑別診断": [
    {
      "疾患名": "",
      "可能性": "",
      "根拠": ""
    }
  ],
  "推奨検査": []
}

症例: [症例情報]
\`\`\`

## メリット
- 出力が一貫性を持つ
- 後続処理が容易
- データベースへの保存が簡単

## デメリット
- 形式指定が複雑になる場合がある
- モデルが形式に従わない場合がある`,
    useCase: 'データベースへの保存や後続処理が必要な場合',
    scenario: `救急外来で多くの患者が来院し、医療スタッフが迅速に患者情報を整理・共有する必要がある。電子カルテに正確な症例情報を構造化して登録し、後続の診療や検査依頼に活用したい状況。`,
    promptTemplate: `以下の形式で構造化された情報を出力してください：
1. 診断名
2. 根拠
3. 推奨検査
4. 治療方針`,
    scenario: `救急外来で多くの患者が来院し、医療スタッフが迅速に患者情報を整理・共有する必要がある。電子カルテに正確な症例情報を構造化して登録し、後続の診療や検査依頼に活用したい状況。`,
    promptTemplate: `以下の[患者情報]と[症例情報]をもとに、診断に必要な情報を整理し、JSON形式で構造化してください。出力は必ずキーと値のペアで、患者ID、年齢、性別、主訴、現病歴、既往歴、検査結果、診断名、推奨される処置および検査を含めてください。例：{"患者ID":"","年齢":,"性別":"","主訴":"","現病歴":"","既往歴":"","検査結果":{},"診断名":"","推奨処置":[],"推奨検査":[]}
[患者情報]: {患者ID、年齢、性別など}
[症例情報]: {主訴、現病歴、既往歴、検査結果など}
上記の情報をもとに、医療用語を用いて正確かつ簡潔に記載してください。`
  },
  {
    id: 'iterative-refinement',
    title: '反復的改善',
    category: 'basic',
    level: 'intermediate',
    description: '複数回のやり取りで出力を段階的に改善する',
    content: `反復的改善は、複数回のやり取りで出力を段階的に改善する手法です。

## 基本的な使い方
最初の出力に対して、フィードバックを与えて改善を促します。

例：
\`\`\`
1回目: 症例を分析してください。
2回目: より詳細な鑑別診断を追加してください。
3回目: 各診断の可能性を数値で示してください。
\`\`\`

## メリット
- 段階的に精度を向上できる
- ユーザーの要望に合わせて調整可能
- 複雑なタスクにも対応可能

## デメリット
- 時間がかかる
- トークン消費が増える
- 会話が長くなりすぎる場合がある`,
    useCase: '複雑なタスクを段階的に解決したい場合',
    scenario: `救急外来で複雑な症例の診断が求められている。医師は限られた時間内に患者の症状、検査結果、既往歴をもとに最適な診断と治療計画を立てる必要がある。AIを利用して段階的に診断の精度を高めたい状況。`,
    promptTemplate: `出力内容を確認し、改善点を指摘してください。次の回答でそれを反映して更新してください。`,
    scenario: `救急外来で複雑な症例の診断が求められている。医師は限られた時間内に患者の症状、検査結果、既往歴をもとに最適な診断と治療計画を立てる必要がある。AIを利用して段階的に診断の精度を高めたい状況。`,
    promptTemplate: `以下の[症例情報]と[患者情報]を基に、初回診断案を提示してください。その後、提示された診断案の問題点や不足情報を指摘し、追加で必要な検査や鑑別診断の候補を提案してください。これを踏まえ、改善案を反映した修正診断案を段階的に示してください。ステップバイステップで考察し、各段階での変更理由を明確にしてください。`
  },
  {
    id: 'constraint-specification',
    title: '制約条件の指定',
    category: 'basic',
    level: 'beginner',
    description: '出力に対する制約を明確に指定する',
    content: `制約条件の指定は、出力に対する制約を明確に指定する手法です。

## 基本的な使い方
長さ、形式、内容などの制約を指定します。

例：
\`\`\`
以下の症例を分析してください。以下の制約を守ってください：
- 鑑別診断は5つ以内
- 各診断の説明は100文字以内
- 必ず可能性の高い順に並べる

症例: [症例情報]
\`\`\`

## メリット
- 出力をコントロールできる
- 一貫性のある出力が得られる
- 用途に合わせて調整可能

## デメリット
- 制約が多すぎると出力が制限される
- 不適切な制約は精度を下げる`,
    useCase: '特定の形式や長さで出力させたい場合',
    scenario: `救急外来で複数の患者の症例報告書を迅速に作成する必要がある。各報告書は指定フォーマットに従い、300文字以内で診断概要と治療方針を簡潔にまとめなければならない。`,
    promptTemplate: `以下の制約条件を厳守して出力してください：内容は簡潔に、専門用語を使いすぎず、具体的な指示に従うこと。`,
    scenario: `救急外来で複数の患者の症例報告書を迅速に作成する必要がある。各報告書は指定フォーマットに従い、300文字以内で診断概要と治療方針を簡潔にまとめなければならない。`,
    promptTemplate: `以下の患者情報と症例情報を基に、指定のフォーマットに従って診断概要と治療方針を300文字以内で作成してください。出力は必ずJSON形式で、キーは「診断概要」と「治療方針」としてください。患者情報：[患者情報]、症例情報：[症例情報]`
  },
  {
    id: 'context-setting',
    title: 'コンテキスト設定',
    category: 'basic',
    level: 'beginner',
    description: '背景情報や前提条件を明確に設定する',
    content: `コンテキスト設定は、背景情報や前提条件を明確に設定する手法です。

## 基本的な使い方
タスクの前に、関連する背景情報を提供します。

例：
\`\`\`
背景: あなたは総合診療医として、プライマリケアの現場で働いています。
患者は地域のクリニックに来院しました。
医療資源は限られており、迅速な判断が必要です。

タスク: 以下の症例を分析してください。
症例: [症例情報]
\`\`\`

## メリット
- より適切な回答が得られる
- 実用的なアドバイスが期待できる
- コンテキストに応じた出力が可能

## デメリット
- コンテキストが長くなりすぎる場合がある
- 不適切なコンテキストは精度を下げる`,
    useCase: '特定の状況や環境での分析が必要な場合',
    scenario: `救急外来で複雑な症状を持つ高齢患者が搬送されてきた。医師は患者の既往歴や現在のバイタルサイン、検査結果を踏まえて迅速かつ的確な診断支援を求めている。`,
    promptTemplate: `背景情報や前提条件を明確に示してから回答してください。`,
    scenario: `救急外来で複雑な症状を持つ高齢患者が搬送されてきた。医師は患者の既往歴や現在のバイタルサイン、検査結果を踏まえて迅速かつ的確な診断支援を求めている。`,
    promptTemplate: `以下の患者情報と症例情報を踏まえ、医療的背景と前提条件を明確に設定した上で、診断の可能性と推奨される検査・治療方針を包括的に分析してください。患者情報：[患者情報]、症例情報：[症例情報]。バイタルサインや既往歴、現在の検査結果を考慮し、各ステップで疑われる疾患とその根拠、推奨される追加検査や初期治療方針を段階的に説明してください。`
  },
  {
    id: 'question-decomposition',
    title: '質問の分解',
    category: 'basic',
    level: 'intermediate',
    description: '複雑な質問を小さな部分に分解して回答する',
    content: `質問の分解は、複雑な質問を小さな部分に分解して回答する手法です。

## 基本的な使い方
大きな質問を複数の小さな質問に分けます。

例：
\`\`\`
以下の症例について、以下の順序で分析してください：

1. 主訴から考えられる主要な疾患カテゴリは何か？
2. 現病歴から重要な情報は何か？
3. 身体所見から示唆されることは何か？
4. 鑑別診断は何か？
5. 確定診断のための検査は何か？

症例: [症例情報]
\`\`\`

## メリット
- 複雑な問題を体系的に解決できる
- 各ステップの精度が向上
- 理解しやすい出力が得られる

## デメリット
- プロンプトが長くなる
- ステップが多すぎると煩雑になる`,
    useCase: '複雑な症例分析や多段階の判断が必要な場合',
    scenario: `複雑な症例で複数の併存疾患を持つ患者の診断と治療計画を立てる必要がある。医師は症状、検査結果、既往歴を総合的に評価し、段階的に判断を進めたいと考えている。`,
    promptTemplate: `複雑な質問は小さな部分に分解して、それぞれ順番に回答してください。`,
    scenario: `複雑な症例で複数の併存疾患を持つ患者の診断と治療計画を立てる必要がある。医師は症状、検査結果、既往歴を総合的に評価し、段階的に判断を進めたいと考えている。`,
    promptTemplate: `以下の[症例情報]と[患者情報]をもとに、複雑な症状の原因を特定し、診断と治療方針をステップバイステップで検討してください。まず、主訴と既往歴から最も可能性の高い疾患群を挙げ、その理由を説明してください。次に、検査結果を踏まえて診断の絞り込みを行い、最後に推奨される治療戦略を複数提示してください。各ステップごとに根拠を明示し、医療専門用語を用いて詳細に解説してください。`
  },
  {
    id: 'output-formatting',
    title: '出力フォーマット指定',
    category: 'basic',
    level: 'beginner',
    description: 'マークダウン、リスト、表などの形式を指定する',
    content: `出力フォーマット指定は、マークダウン、リスト、表などの形式を指定する手法です。

## 基本的な使い方
希望する形式を明確に指定します。

例：
\`\`\`
以下の症例を分析し、マークダウンの表形式で出力してください。

| 疾患名 | 可能性 | 根拠 | 推奨検査 |
|--------|--------|------|----------|
|        |        |      |          |

症例: [症例情報]
\`\`\`

## メリット
- 読みやすい出力が得られる
- 一貫性のある形式
- 視覚的に理解しやすい

## デメリット
- 形式指定が複雑になる場合がある
- モデルが形式に従わない場合がある`,
    useCase: '読みやすい形式で出力させたい場合',
    scenario: `総合診療科の医師が多忙な診察の合間に、複雑な症例の診断サマリーを効率的に作成したい。患者の既往歴や現症、検査結果を基に、分かりやすい表形式で診断のポイントをまとめる必要がある。`,
    promptTemplate: `以下の形式で出力してください：マークダウン、リスト、または表など指定のフォーマットでお願いします。`,
    scenario: `総合診療科の医師が多忙な診察の合間に、複雑な症例の診断サマリーを効率的に作成したい。患者の既往歴や現症、検査結果を基に、分かりやすい表形式で診断のポイントをまとめる必要がある。`,
    promptTemplate: `以下の[症例情報]をもとに、診断サマリーを作成してください。出力はマークダウン形式の表で、列は「項目」「内容」とし、既往歴、現症、検査結果、鑑別診断、推奨される追加検査および治療方針をそれぞれ行にまとめてください。専門用語を用い、簡潔かつ明瞭に記述してください。

[症例情報]`
  },

  // 品質向上 (約8個)
  {
    id: 'self-consistency',
    title: '自己一貫性',
    category: 'quality',
    level: 'intermediate',
    description: '複数の推論パスを生成し、最も一貫性のある回答を選択',
    content: `自己一貫性は、複数の推論パスを生成し、最も一貫性のある回答を選択する手法です。

## 基本的な使い方
同じ質問を複数回投げ、最も頻繁に現れる回答を選択します。

例：
\`\`\`
以下の症例について、3回分析してください。最も一貫性のある診断を提示してください。

症例: [症例情報]
\`\`\`

## メリット
- 信頼性が向上
- ランダムな誤りを減らせる
- より確実な回答が得られる

## デメリット
- トークン消費が増える
- 処理時間が長くなる
- コストが増加する`,
    useCase: '重要な判断や診断が必要な場合',
    scenario: `急性の胸痛を訴える患者が来院し、心電図や血液検査の結果も得られたが、診断が複数の可能性に分かれている。医師は最適な治療方針を決定するために、AIの診断支援を活用し、複数の推論を比較検討したいと考えている。`,
    promptTemplate: `複数の推論経路を考慮し、一貫性のある最良の診断を選んでください。`,
    scenario: `急性の胸痛を訴える患者が来院し、心電図や血液検査の結果も得られたが、診断が複数の可能性に分かれている。医師は最適な治療方針を決定するために、AIの診断支援を活用し、複数の推論を比較検討したいと考えている。`,
    promptTemplate: `以下の[患者情報]と[症例情報]をもとに、3つの異なる推論経路で診断を行ってください。各推論では、根拠となる臨床所見や検査結果を具体的に示し、ステップバイステップで診断理由を説明してください。その後、各推論の一貫性を比較し、最も論理的かつ一貫性のある診断結果を選択し、その選択理由を詳述してください。なお、専門的な医学用語を用いてください。`
  },
  {
    id: 'error-checking',
    title: 'エラーチェック',
    category: 'quality',
    level: 'intermediate',
    description: '出力に対してエラーチェックを実行する',
    content: `エラーチェックは、出力に対してエラーチェックを実行する手法です。

## 基本的な使い方
出力に対して、論理的な矛盾や誤りがないか確認を促します。

例：
\`\`\`
以下の症例を分析してください。その後、以下の点を確認してください：
- 鑑別診断に矛盾はないか
- 推奨検査は適切か
- 診断の根拠は論理的か

症例: [症例情報]
\`\`\`

## メリット
- 誤りを早期に発見できる
- 出力の品質が向上
- 信頼性が高まる

## デメリット
- プロンプトが長くなる
- 追加の処理が必要`,
    useCase: '重要な判断や診断が必要な場合',
    scenario: `急性症状を呈した患者の診断結果をAIが提示した後、医師が最終判断を下す前に誤診や見落としがないか確認する必要がある。特に複雑な症例で多くの検査データがある場合、エラーチェックによるリスクの低減が求められる。`,
    promptTemplate: `出力内容に誤りや矛盾がないか注意深く確認してください。必要に応じて修正を加えてください。`,
    scenario: `急性症状を呈した患者の診断結果をAIが提示した後、医師が最終判断を下す前に誤診や見落としがないか確認する必要がある。特に複雑な症例で多くの検査データがある場合、エラーチェックによるリスクの低減が求められる。`,
    promptTemplate: `以下の患者情報と診断結果について、ステップバイステップで詳細にエラーチェックを行ってください。診断における見落としや矛盾、検査データの不整合がないか検討し、疑わしい点があれば具体的に指摘してください。患者情報: [患者情報]、症例情報: [症例情報]、検査結果: [検査結果]、AI診断結果: [AI診断結果]`
  },
  {
    id: 'fact-checking',
    title: '事実確認',
    category: 'quality',
    level: 'intermediate',
    description: '出力された情報の事実確認を促す',
    content: `事実確認は、出力された情報の事実確認を促す手法です。

## 基本的な使い方
出力に対して、事実に基づいているか確認を促します。

例：
\`\`\`
以下の症例を分析してください。提示する情報は、医学的に確立された事実に基づいていることを確認してください。

症例: [症例情報]
\`\`\`

## メリット
- 正確な情報が得られる
- 誤情報を防げる
- 信頼性が高まる

## デメリット
- モデルが事実を誤認する場合がある
- 追加の検証が必要な場合がある`,
    useCase: '正確な情報が必要な場合',
    scenario: `救急外来で複数の臨床データが提示され、迅速かつ正確な診断が求められている。医療スタッフはAIからの診断サポート情報の信頼性を確認し、誤診を防止したいと考えている。`,
    promptTemplate: `提供された情報の正確性を確認し、根拠を示してください。`,
    scenario: `救急外来で複数の臨床データが提示され、迅速かつ正確な診断が求められている。医療スタッフはAIからの診断サポート情報の信頼性を確認し、誤診を防止したいと考えている。`,
    promptTemplate: `以下の[症例情報]と[患者情報]をもとに、診断および推奨される治療方針についてステップバイステップで論理的に説明してください。各ステップで用いた医学的根拠やエビデンスを明示し、情報の正確性と信頼性を確認してください。特に重要な検査結果や症状については、最新の臨床ガイドラインに基づく解説を含めてください。

【症例情報】
[症例情報]

【患者情報】
[患者情報]

以上を踏まえて、事実確認を重視した診断プロセスを詳述してください。`
  },
  {
    id: 'uncertainty-acknowledgment',
    title: '不確実性の明示',
    category: 'quality',
    level: 'intermediate',
    description: '不確実な情報について明示的に示す',
    content: `不確実性の明示は、不確実な情報について明示的に示す手法です。

## 基本的な使い方
不確実な点や限界を明示するよう指示します。

例：
\`\`\`
以下の症例を分析してください。不確実な点や、追加情報が必要な点を明示してください。

症例: [症例情報]
\`\`\`

## メリット
- 過信を防げる
- より慎重な判断が可能
- 追加情報の必要性が明確になる

## デメリット
- 出力が保守的になりすぎる場合がある
- 判断が遅れる場合がある`,
    useCase: '慎重な判断が必要な場合',
    scenario: `新規患者の診断時に、検査結果が一部不明瞭であり、確定診断を下す前に複数の可能性を検討する必要がある。医師はAIに診断サポートを依頼し、不確実な要素を明示した上で慎重な意思決定を求めている。`,
    promptTemplate: `不確実な情報がある場合は、その点を明確に示してください。`,
    scenario: `新規患者の診断時に、検査結果が一部不明瞭であり、確定診断を下す前に複数の可能性を検討する必要がある。医師はAIに診断サポートを依頼し、不確実な要素を明示した上で慎重な意思決定を求めている。`,
    promptTemplate: `以下の[患者情報]と[症例情報]を基に、診断の可能性についてステップバイステップで検討してください。不確実な情報や検査結果の限界についても明示し、各診断の信頼度や考慮すべき追加検査を具体的に示してください。特に不確実性が高い部分は明確に記述し、誤診を避けるための注意点を含めてください。`
  },
  {
    id: 'multi-perspective',
    title: '多角的視点',
    category: 'quality',
    level: 'intermediate',
    description: '複数の視点から分析を行う',
    content: `多角的視点は、複数の視点から分析を行う手法です。

## 基本的な使い方
異なる専門家の視点から分析を促します。

例：
\`\`\`
以下の症例について、以下の視点から分析してください：
1. 総合診療医の視点
2. 専門医の視点
3. 救急医の視点

症例: [症例情報]
\`\`\`

## メリット
- より包括的な分析が可能
- 見落としを防げる
- 多様な意見が得られる

## デメリット
- プロンプトが長くなる
- 出力が複雑になる
- 統合が困難な場合がある`,
    useCase: '包括的な分析が必要な場合',
    scenario: `救急外来で複雑な症状を呈する患者が来院し、迅速かつ包括的な診断が求められている。既往歴や検査結果を踏まえ、内科、外科、精神科の視点から総合的に評価し治療方針を検討する必要がある。`,
    promptTemplate: `複数の視点から分析し、それぞれの観点で考察してください。`,
    scenario: `救急外来で複雑な症状を呈する患者が来院し、迅速かつ包括的な診断が求められている。既往歴や検査結果を踏まえ、内科、外科、精神科の視点から総合的に評価し治療方針を検討する必要がある。`,
    promptTemplate: `以下の[患者情報]と[症例情報]を基に、内科的視点、外科的視点、精神科的視点の三方向から詳細に分析してください。それぞれの視点ごとに、考慮すべき鑑別診断、必要な追加検査、推奨される治療アプローチをステップバイステップで述べてください。また、各視点の相違点や共通点を比較し、最も効果的な総合的治療方針についても提案してください。`
  },
  {
    id: 'evidence-based',
    title: 'エビデンスベース',
    category: 'quality',
    level: 'intermediate',
    description: 'エビデンスに基づいた情報を提供する',
    content: `エビデンスベースは、エビデンスに基づいた情報を提供する手法です。

## 基本的な使い方
エビデンスレベルや参考文献を明示するよう指示します。

例：
\`\`\`
以下の症例を分析してください。提示する情報は、可能な限りエビデンスレベルを明示してください。

症例: [症例情報]
\`\`\`

## メリット
- 科学的根拠に基づいた情報が得られる
- 信頼性が高まる
- 臨床判断の質が向上

## デメリット
- エビデンスが不足している場合がある
- 最新の情報が反映されない場合がある`,
    useCase: '科学的根拠に基づいた判断が必要な場合',
    scenario: `医師が複雑な症例について最適な治療方針を決定するために、最新の臨床試験やガイドラインに基づくエビデンスを迅速に確認したい。患者の詳細な症状や検査結果を踏まえた科学的根拠をもとに、治療選択肢のメリット・デメリットを比較検討する必要がある。`,
    promptTemplate: `エビデンスに基づいた情報を根拠とともに提供してください。`,
    scenario: `医師が複雑な症例について最適な治療方針を決定するために、最新の臨床試験やガイドラインに基づくエビデンスを迅速に確認したい。患者の詳細な症状や検査結果を踏まえた科学的根拠をもとに、治療選択肢のメリット・デメリットを比較検討する必要がある。`,
    promptTemplate: `以下の患者情報と症例詳細に基づいて、最新の臨床ガイドラインや査読済み論文から得られる科学的根拠に基づき、ステップバイステップで最適な治療方針を解説してください。[患者情報]：[年齢、性別、既往歴、現病歴、検査結果など]。[症例情報]：[診断名、重症度、合併症の有無、治療歴など]。それぞれの治療選択肢について、最新エビデンスを引用しながらメリット・デメリットを明示し、推奨度の高い根拠を示してください。`
  },
  {
    id: 'bias-awareness',
    title: 'バイアス認識',
    category: 'quality',
    level: 'advanced',
    description: '潜在的なバイアスを認識し、対処する',
    content: `バイアス認識は、潜在的なバイアスを認識し、対処する手法です。

## 基本的な使い方
バイアスの可能性を考慮するよう指示します。

例：
\`\`\`
以下の症例を分析してください。以下のバイアスに注意してください：
- 確認バイアス
- アンカリングバイアス
- 利用可能性ヒューリスティック

症例: [症例情報]
\`\`\`

## メリット
- より客観的な判断が可能
- 誤診を防げる
- 思考の質が向上

## デメリット
- プロンプトが複雑になる
- 過度に慎重になりすぎる場合がある`,
    useCase: '客観的な判断が必要な場合',
    scenario: `救急外来で新型肺炎の疑いがある高齢患者が来院したが、過去の診療傾向から感染症以外の診断が後回しにされることがある。医療チームは迅速かつ客観的に診断を行い、バイアスの影響を最小限に抑えたいと考えている。`,
    promptTemplate: `回答に潜むバイアスを意識し、中立的かつ多角的な視点で説明してください。`,
    scenario: `救急外来で新型肺炎の疑いがある高齢患者が来院したが、過去の診療傾向から感染症以外の診断が後回しにされることがある。医療チームは迅速かつ客観的に診断を行い、バイアスの影響を最小限に抑えたいと考えている。`,
    promptTemplate: `以下の患者情報と症例情報をもとに、診断と治療方針をステップバイステップで考察してください。特に、過去の診療傾向や典型的なパターンに基づくバイアスが診断に影響を及ぼしていないかを指摘し、可能性のある診断を広く検討してください。患者情報：[患者情報]、症例情報：[症例情報]。各ステップでどのようにバイアスを認識し対処したかを明確に示してください。`
  },
  {
    id: 'readability-optimization',
    title: '忙しい人に読んでもらえる文章術',
    category: 'quality',
    level: 'beginner',
    description: '簡潔で読みやすい文章を生成する',
    content: `忙しい人に読んでもらえる文章術は、簡潔で読みやすい文章を生成する手法です。

## 基本的な使い方
簡潔さ、明確さ、構造化を重視するよう指示します。

例：
\`\`\`
以下の内容を、忙しい医師が30秒で理解できるように要約してください：
- 重要なポイントを最初に
- 箇条書きを使用
- 専門用語は最小限に

内容: [内容]
\`\`\`

## メリット
- 情報が伝わりやすい
- 時間を節約できる
- 実用性が高い

## デメリット
- 詳細が失われる場合がある
- 簡潔さと完全性のバランスが難しい`,
    useCase: '簡潔な報告書や要約が必要な場合',
    scenario: `外来診療の合間に複数の患者の検査結果を迅速に共有する必要がある。忙しい医師や看護師が短時間で症例の要点を理解できるよう、簡潔な報告書を作成しなければならない。`,
    promptTemplate: `簡潔かつ明瞭な文章で、忙しい医療従事者がすぐに理解できるように説明してください。`,
    scenario: `外来診療の合間に複数の患者の検査結果を迅速に共有する必要がある。忙しい医師や看護師が短時間で症例の要点を理解できるよう、簡潔な報告書を作成しなければならない。`,
    promptTemplate: `以下の[患者情報]と[症例情報]をもとに、忙しい医療従事者が短時間で理解できるよう、専門用語を適切に用いて簡潔かつ明瞭な文章で報告書を作成してください。重要な診断、検査結果、治療方針を3つのポイントに絞り、箇条書き形式で示してください。冗長な表現は避け、読みやすさを最優先にしてください。

[患者情報]:
[症例情報]:`
  },

  // 高度なテクニック (約15個)
  {
    id: 'tree-of-thought',
    title: 'Tree of Thought（思考の木）',
    category: 'advanced',
    level: 'advanced',
    description: '複数の推論パスを並行して探索する',
    content: `Tree of Thoughtは、複数の推論パスを並行して探索する手法です。

## 基本的な使い方
複数の仮説を同時に検討するよう指示します。

例：
\`\`\`
以下の症例について、以下の3つの仮説を同時に検討してください：
仮説1: 感染症
仮説2: 炎症性疾患
仮説3: 腫瘍性疾患

各仮説について、支持する所見と反対する所見をリストアップしてください。

症例: [症例情報]
\`\`\`

## メリット
- より包括的な分析が可能
- 見落としを防げる
- 複雑な問題に対応可能

## デメリット
- プロンプトが非常に長くなる
- トークン消費が大幅に増える
- 処理が複雑になる`,
    useCase: '複雑な症例で複数の可能性を検討する場合',
    scenario: `高度に複雑な症例で、多数の鑑別診断が考えられる患者が入院している。患者の既往歴や検査結果から複数の疾患が疑われており、最適な診断と治療方針を決定するために多角的な推論が求められている。`,
    promptTemplate: `複数の推論パスを同時に検討し、それぞれの可能性を並行して評価してください。`,
    scenario: `高度に複雑な症例で、多数の鑑別診断が考えられる患者が入院している。患者の既往歴や検査結果から複数の疾患が疑われており、最適な診断と治療方針を決定するために多角的な推論が求められている。`,
    promptTemplate: `以下の患者情報と症例情報を基に、Tree of Thoughtの手法を用いて複数の診断パスを並行して探索してください。[患者情報]: 年齢、性別、既往歴、服薬中の薬剤。[症例情報]: 現病歴、身体所見、検査結果（血液検査、画像診断など）。各推論パスごとに可能性のある疾患をリストアップし、それぞれの根拠と追加検査の提案を示してください。最終的に最も妥当な診断と治療方針を複数の視点から比較検討し、理由を詳細に説明してください。`
  },
  {
    id: 'recursive-self-improvement',
    title: '再帰的自己改善',
    category: 'advanced',
    level: 'advanced',
    description: '出力を自己評価し、改善を繰り返す',
    content: `再帰的自己改善は、出力を自己評価し、改善を繰り返す手法です。

## 基本的な使い方
出力に対して自己評価を促し、改善を繰り返します。

例：
\`\`\`
1. 以下の症例を分析してください。
2. 分析結果を自己評価してください（不足点、改善点）。
3. 評価に基づいて分析を改善してください。
4. 改善された分析を再度評価してください。

症例: [症例情報]
\`\`\`

## メリット
- 段階的に精度が向上
- 自己修正能力が高まる
- より洗練された出力が得られる

## デメリット
- 非常に時間がかかる
- トークン消費が大幅に増える
- 無限ループのリスクがある`,
    useCase: '最高品質の出力が必要な場合',
    scenario: `急性期病棟で複雑な症例の診断支援を求められた際、AIが提供する診断案の精度を高める必要がある。患者の詳細な症例情報をもとに、AIが出力した診断案を自己評価し、改善を繰り返すことで最適な診断提案を目指す。`,
    promptTemplate: `出力内容を自己評価し、必要に応じて改善を繰り返してください。`,
    scenario: `急性期病棟で複雑な症例の診断支援を求められた際、AIが提供する診断案の精度を高める必要がある。患者の詳細な症例情報をもとに、AIが出力した診断案を自己評価し、改善を繰り返すことで最適な診断提案を目指す。`,
    promptTemplate: `以下の[症例情報]と[患者情報]をもとに、最も可能性の高い診断名とその根拠を詳細に述べてください。続いて、提示した診断案の論理的整合性と臨床的妥当性を自己評価し、改善点を3つ挙げてください。その後、改善点を反映させた新たな診断案を提示してください。これを3サイクル繰り返し、最終的に最善と考えられる診断案を示してください。再帰的自己改善の手法を用いて、ステップバイステップで論理を展開してください。`
  },
  {
    id: 'meta-prompting',
    title: 'メタプロンプティング',
    category: 'advanced',
    level: 'advanced',
    description: 'プロンプトを生成するプロンプトを作成する',
    content: `メタプロンプティングは、プロンプトを生成するプロンプトを作成する手法です。

## 基本的な使い方
モデルに最適なプロンプトを生成させます。

例：
\`\`\`
あなたはプロンプトエンジニアです。以下のタスクを実行するための最適なプロンプトを生成してください。

タスク: 症例分析と鑑別診断

生成されたプロンプトを使用して、実際にタスクを実行してください。
\`\`\`

## メリット
- 最適なプロンプトを自動生成できる
- タスクに応じた柔軟な対応が可能
- プロンプト設計の負担が軽減

## デメリット
- 複雑で理解が難しい
- 生成されたプロンプトの品質が不安定
- デバッグが困難`,
    useCase: '新しいタスクに対応する場合',
    scenario: `新たな診療プロトコルや未知の症例に直面した医療従事者が、迅速かつ正確に対応するためのAI支援ツールを導入した。医療現場では多様な疾患や症例が日々現れ、柔軟に対応可能なプロンプト生成が求められている。`,
    promptTemplate: `プロンプトを作成するためのプロンプトを生成してください。`,
    scenario: `新たな診療プロトコルや未知の症例に直面した医療従事者が、迅速かつ正確に対応するためのAI支援ツールを導入した。医療現場では多様な疾患や症例が日々現れ、柔軟に対応可能なプロンプト生成が求められている。`,
    promptTemplate: `あなたは医療現場のAIアシスタントです。以下の[症例情報]と[患者情報]をもとに、新しい診療タスクに対応するための具体的かつ詳細なプロンプトを作成してください。作成するプロンプトは、診断の補助、治療方針の提案、検査の推奨など多角的な支援が可能な内容とし、医療専門用語を適切に使用してください。さらに、プロンプト生成の過程をステップバイステップで説明し、どの情報をどう活用するか明示してください。例："ステップ1：症例の重要所見を抽出、ステップ2：関連する診断基準を適用、ステップ3：次に必要な検査を提案..."。以下が対象情報です。

症例情報：[症例情報]
患者情報：[患者情報]`
  },
  {
    id: 'pal-prompting',
    title: 'PAL（Program-Aided Language）',
    category: 'advanced',
    level: 'advanced',
    description: 'プログラムコードを生成して問題を解決する',
    content: `PAL（Program-Aided Language）は、プログラムコードを生成して問題を解決する手法です。

## 基本的な使い方
モデルにコードを生成させ、実行して結果を得ます。

例：
\`\`\`
以下の統計データを分析するためのPythonコードを生成し、実行してください。

データ: [データ]
\`\`\`

## メリット
- 複雑な計算が可能
- 正確な数値計算ができる
- 自動化が可能

## デメリット
- コード実行環境が必要
- セキュリティリスクがある
- デバッグが困難`,
    useCase: '統計解析やデータ処理が必要な場合',
    scenario: `病院の臨床研究チームは、慢性疾患患者の治療効果を評価するために大量のバイタルサインデータや検査結果を統計解析する必要がある。手作業での集計が困難なため、効率的かつ正確にデータ処理を自動化したいと考えている。`,
    promptTemplate: `問題解決のためにプログラムコードを生成し、解答してください。`,
    scenario: `病院の臨床研究チームは、慢性疾患患者の治療効果を評価するために大量のバイタルサインデータや検査結果を統計解析する必要がある。手作業での集計が困難なため、効率的かつ正確にデータ処理を自動化したいと考えている。`,
    promptTemplate: `以下の患者データセット[患者情報]に基づき、治療前後のバイタルサインや検査値の変化を統計的に解析するPythonコードを生成してください。具体的には、平均値、標準偏差、t検定による有意差検証をステップバイステップで実行し、結果を分かりやすくまとめる形式でお願いします。データはCSV形式で与えられ、pandasとscipyを用いることを想定してください。`
  },
  {
    id: 'automatic-cot',
    title: '自動Chain-of-Thought',
    category: 'advanced',
    level: 'advanced',
    description: '推論チェーンを自動生成する',
    content: `自動Chain-of-Thoughtは、推論チェーンを自動生成する手法です。

## 基本的な使い方
モデルに推論ステップを自動生成させます。

例：
\`\`\`
以下の問題を解決してください。解決過程を自動的に分解し、各ステップを明示してください。

問題: [問題]
\`\`\`

## メリット
- 手動でステップを指定する必要がない
- 柔軟な推論が可能
- 複雑な問題に対応可能

## デメリット
- 生成されるステップが不適切な場合がある
- デバッグが困難
- 予測が難しい`,
    useCase: '複雑な問題を体系的に解決したい場合',
    scenario: `急性腹痛を訴える患者が救急外来に来院し、複数の鑑別診断が考えられる状況です。診断のために症例情報と検査結果を整理し、体系的かつ論理的に病態を推論する必要があります。`,
    promptTemplate: `推論の過程を自動で詳細に説明しながら答えてください。`,
    scenario: `急性腹痛を訴える患者が救急外来に来院し、複数の鑑別診断が考えられる状況です。診断のために症例情報と検査結果を整理し、体系的かつ論理的に病態を推論する必要があります。`,
    promptTemplate: `以下の[症例情報]と[患者情報]を基に、急性腹痛の原因についてステップバイステップで推論してください。まず、症状と身体所見から可能性のある鑑別診断をリストアップし、次に検査データや画像所見を照らし合わせてそれぞれの診断の妥当性を評価してください。最後に最も可能性の高い診断を結論づけ、その根拠を明確に説明してください。`
  },
  {
    id: 'self-consistency-cot',
    title: '自己一貫性CoT',
    category: 'advanced',
    level: 'advanced',
    description: '複数のCoT推論パスを生成し、最も一貫性のあるものを選択',
    content: `自己一貫性CoTは、複数のCoT推論パスを生成し、最も一貫性のあるものを選択する手法です。

## 基本的な使い方
同じ問題に対して複数の推論パスを生成し、比較します。

例：
\`\`\`
以下の症例について、3つの異なる推論パスで分析してください。
各推論パスの結論を比較し、最も一貫性のある診断を選択してください。

症例: [症例情報]
\`\`\`

## メリット
- 非常に高い信頼性
- ランダムな誤りを大幅に減らせる
- 複雑な問題にも対応可能

## デメリット
- トークン消費が非常に多い
- 処理時間が長い
- コストが高い`,
    useCase: '極めて重要な判断が必要な場合',
    scenario: `重篤な症状を訴える患者が緊急に搬送され、複数の鑑別診断が考えられる状況です。迅速かつ正確な診断が求められ、医師はAIの支援を受けて最も合理的な診断と治療方針を導き出す必要があります。`,
    promptTemplate: `複数の推論経路を生成し、それぞれの一貫性を比較して最も合理的な結論を選んでください。`,
    scenario: `重篤な症状を訴える患者が緊急に搬送され、複数の鑑別診断が考えられる状況です。迅速かつ正確な診断が求められ、医師はAIの支援を受けて最も合理的な診断と治療方針を導き出す必要があります。`,
    promptTemplate: `以下の[患者情報]と[症例情報]をもとに、複数の診断推論パスをステップバイステップで展開してください。各推論パスごとに、症状、検査結果、既往歴を考慮し、最も一貫性のある診断を選択する理由を明確に示してください。最後に、最も論理的かつ臨床的に妥当な診断と治療方針を提案してください。自己一貫性を保つために、複数の診断推論を比較検討した結果を必ず記述してください。`
  },
  {
    id: 'depth-method',
    title: '超深層思考モード',
    category: 'advanced',
    level: 'advanced',
    description: '深く掘り下げた思考プロセスを実行する',
    content: `超深層思考モードは、深く掘り下げた思考プロセスを実行する手法です。

## 基本的な使い方
多層的な思考プロセスを指示します。

例：
\`\`\`
以下の症例について、以下の深さで分析してください：

レベル1: 表面的な所見の整理
レベル2: 各所見の意味の解釈
レベル3: 病態生理学的メカニズムの考察
レベル4: 鑑別診断の詳細な検討
レベル5: 診断確度の評価と根拠の検証

症例: [症例情報]
\`\`\`

## メリット
- 非常に深い分析が可能
- 見落としを最小限に
- 高品質な出力が期待できる

## デメリット
- 非常に時間がかかる
- トークン消費が極めて多い
- 過度に複雑になる場合がある`,
    useCase: '極めて複雑な症例や重要な判断が必要な場合',
    scenario: `多臓器にわたる複雑な症状を呈する患者が救急外来に来院し、限られた情報の中で診断と治療方針の決定が急務となっている。既往歴や検査結果も断片的で、専門医の意見を統合した高度な判断が求められる状況である。`,
    promptTemplate: `深く掘り下げて多角的に考え、詳細な思考過程を示してください。`,
    scenario: `多臓器にわたる複雑な症状を呈する患者が救急外来に来院し、限られた情報の中で診断と治療方針の決定が急務となっている。既往歴や検査結果も断片的で、専門医の意見を統合した高度な判断が求められる状況である。`,
    promptTemplate: `以下の[患者情報]と[症例情報]を基に、超深層思考モードでステップバイステップに思考を展開し、複雑な診断過程を詳細に解析してください。まず、症状や検査データの関連性を一つずつ検討し、次に可能性のある鑑別診断を挙げてそれぞれの根拠と反証を示してください。最終的に最も妥当な診断と推奨される治療戦略を論理的にまとめてください。患者の既往歴やリスク因子も考慮し、根拠に基づく医療判断を提供してください。`
  },
  {
    id: 'analogical-reasoning',
    title: '類推推論',
    category: 'advanced',
    level: 'advanced',
    description: '類似の症例やパターンから類推する',
    content: `類推推論は、類似の症例やパターンから類推する手法です。

## 基本的な使い方
類似の症例を参照して分析を促します。

例：
\`\`\`
以下の症例を分析してください。過去の類似症例と比較し、共通点と相違点を明示してください。

現在の症例: [症例情報]
参照症例: [類似症例]
\`\`\`

## メリット
- 経験に基づいた判断が可能
- パターン認識が向上
- 実用的なアドバイスが得られる

## デメリット
- 参照症例が必要
- 不適切な類推のリスク
- 個別性が失われる場合がある`,
    useCase: '類似症例との比較が必要な場合',
    scenario: `高度な診断が求められる複雑な症例で、患者の病歴や検査結果が類似する過去の症例と比較しながら最適な治療方針を検討している。特に稀な疾患や合併症が疑われる場合、類似症例から得られた知見を活用し、診断や治療計画の精度向上を目指している。`,
    promptTemplate: `類似の症例やパターンから類推して、現在の患者の状況を分析してください。`,
    scenario: `高度な診断が求められる複雑な症例で、患者の病歴や検査結果が類似する過去の症例と比較しながら最適な治療方針を検討している。特に稀な疾患や合併症が疑われる場合、類似症例から得られた知見を活用し、診断や治療計画の精度向上を目指している。`,
    promptTemplate: `以下の患者情報および症例情報をもとに、類似する過去の症例を参考にしながら診断と治療方針をステップバイステップで推論してください。患者情報：[患者情報]、検査結果：[検査結果]、症状：[症状]、既往歴：[既往歴]。類似症例の特徴とその治療結果を比較し、最も適切と思われる診断名と治療計画を提示してください。`
  },
  {
    id: 'counterfactual-analysis',
    title: '反事実分析',
    category: 'advanced',
    level: 'advanced',
    description: '「もし〜だったら」という仮定で分析する',
    content: `反事実分析は、「もし〜だったら」という仮定で分析する手法です。

## 基本的な使い方
仮定を変えて分析を促します。

例：
\`\`\`
以下の症例を分析してください。以下の仮定で分析を繰り返してください：
1. もし年齢が20歳若かったら？
2. もし性別が異なったら？
3. もし既往歴がなかったら？

症例: [症例情報]
\`\`\`

## メリット
- より包括的な理解が可能
- リスク要因の特定が容易
- 個別化された分析が可能

## デメリット
- プロンプトが長くなる
- 仮定が多すぎると煩雑になる
- 現実性が失われる場合がある`,
    useCase: 'リスク要因の分析や個別化が必要な場合',
    scenario: `糖尿病患者の治療計画を検討している医療チームが、患者の血糖コントロールが不良である原因を特定し、より効果的な介入策を模索している。個別のリスク要因を考慮しながら、治療方針の最適化を図る必要がある。`,
    promptTemplate: `もし〜だったらどうなるかを想定して、医療的視点から分析してください。`,
    scenario: `糖尿病患者の治療計画を検討している医療チームが、患者の血糖コントロールが不良である原因を特定し、より効果的な介入策を模索している。個別のリスク要因を考慮しながら、治療方針の最適化を図る必要がある。`,
    promptTemplate: `以下の患者情報を基に、反事実分析を用いてリスク要因を特定し、最適な治療戦略を提案してください。[患者情報]には年齢、性別、既往歴、現在の血糖値、生活習慣が含まれます。『もし患者が[特定の生活習慣や治療内容]を変更したら、血糖コントロールや合併症リスクにどのような影響が出るか』をステップバイステップで考察し、実現可能な改善策を示してください。`
  },
  {
    id: 'temporal-reasoning',
    title: '時間的推論',
    category: 'advanced',
    level: 'advanced',
    description: '時間の経過を考慮した分析を行う',
    content: `時間的推論は、時間の経過を考慮した分析を行う手法です。

## 基本的な使い方
時間軸を考慮した分析を促します。

例：
\`\`\`
以下の症例を分析してください。以下の時間軸で分析してください：
- 発症前: リスク要因の評価
- 発症時: 急性期の評価
- 現在: 現状の評価
- 将来: 予後の予測

症例: [症例情報]
\`\`\`

## メリット
- 経過を理解できる
- 予後予測が可能
- 時系列での変化を把握できる

## デメリット
- プロンプトが複雑になる
- 時間情報が必要
- 予測の精度が不安定`,
    useCase: '経過観察や予後予測が必要な場合',
    scenario: `慢性疾患を抱える患者のフォローアップ外来で、過去数回の検査データや症状の変化を踏まえて今後の病状進行や合併症リスクを評価する必要がある。医師は時間軸に沿ったデータ解析を基に治療方針の見直しを検討している。`,

    promptTemplate: `以下の[患者情報]と[過去の検査結果や症状の経時的変化データ]を用いて、時間の経過に沿って病状の進行をステップバイステップで解析してください。その上で、今後の予後予測と合併症リスクについて具体的な考察を示し、推奨される治療方針の変更点を提案してください。異常な変化や重要な指標のトレンドがあれば詳細に説明してください。`
  },
  {
    id: 'causal-reasoning',
    title: '因果推論',
    category: 'advanced',
    level: 'advanced',
    description: '因果関係を明示的に分析する',
    content: `因果推論は、因果関係を明示的に分析する手法です。

## 基本的な使い方
因果関係を明示するよう指示します。

例：
\`\`\`
以下の症例を分析してください。以下の因果関係を明示してください：
- 原因 → 結果の関係
- 中間因子の役割
- 交絡因子の可能性

症例: [症例情報]
\`\`\`

## メリット
- 病態の理解が深まる
- 治療方針の根拠が明確になる
- 科学的思考が向上

## デメリット
- 因果関係の特定が困難な場合がある
- 推論が複雑になる
- 誤った因果関係を推論するリスク`,
    useCase: '病態理解や治療方針の決定が必要な場合',
    scenario: `糖尿病患者の慣性合併症が進行しており、どの治療要因が病態悪化に最も影響しているかを明確にしたい。多変量の臨床データを基に、効果的な介入ポイントを特定し治療方針を策定する必要がある。`,
    promptTemplate: `この症状と検査結果の因果関係を明示的に分析してください。`
  },
  {
    id: 'multi-agent-collaboration',
    title: 'マルチエージェント協調',
    category: 'advanced',
    level: 'advanced',
    description: '複数の専門家役割で協調して分析する',
    content: `マルチエージェント協調は、複数の専門家役割で協調して分析する手法です。

## 基本的な使い方
複数の専門家の視点から分析を促します。

例：
\`\`\`
以下の症例について、以下の専門家が協調して分析してください：
1. 総合診療医: 全体像の把握
2. 専門医: 専門的評価
3. 救急医: 緊急性の評価
4. 臨床薬剤師: 薬物治療の評価

各専門家の意見を統合して、最終的な診断と治療方針を提示してください。

症例: [症例情報]
\`\`\`

## メリット
- 非常に包括的な分析が可能
- 多角的な視点が得られる
- 実臨床に近い判断が可能

## デメリット
- 非常に複雑
- トークン消費が極めて多い
- 統合が困難な場合がある`,
    useCase: '極めて複雑な症例で多角的な分析が必要な場合',
    scenario: `高度な合併症を持つ患者が複数の診療科をまたぐ症例で入院している。内科、外科、放射線科の専門医が連携して診断と治療方針の策定を求められている状況。`,
    promptTemplate: `複数の専門家として役割を分担し、協力して分析してください。`
  },
  {
    id: 'hierarchical-reasoning',
    title: '階層的推論',
    category: 'advanced',
    level: 'advanced',
    description: '抽象度の異なるレベルで分析を行う',
    content: `階層的推論は、抽象度の異なるレベルで分析を行う手法です。

## 基本的な使い方
抽象度の異なるレベルで分析を促します。

例：
\`\`\`
以下の症例を分析してください。以下の階層で分析してください：

レベル1（抽象的）: 疾患カテゴリの特定
レベル2（中程度）: 具体的な疾患の鑑別
レベル3（具体的）: 診断の確定と治療方針

症例: [症例情報]
\`\`\`

## メリット
- 体系的に問題を解決できる
- 抽象から具体への流れが明確
- 理解しやすい出力が得られる

## デメリット
- プロンプトが複雑になる
- 階層の定義が難しい
- 不適切な抽象化のリスク`,    useCase: '複雑な症例で階層的な分析が必要な場合',
    scenario: `救急外来で複雑な症例の診断を迫られている医師が、患者の多様な症状と検査結果をもとに体系的に疾患の可能性を絞り込みたい。複数の鑑別診断を階層的に評価し、最適な検査や治療方針を決定しようとしている状況。`,
    promptTemplate: `抽象度の異なるレベルで段階的に分析し、それぞれの視点から評価してください。`},
  {
    id: 'constraint-satisfaction',
    title: '制約充足',
    category: 'advanced',
    level: 'advanced',
    description: '複数の制約を同時に満たす解を探索する',
    content: `制約充足は、複数の制約を同時に満たす解を探索する手法です。

## 基本的な使い方
複数の制約を指定し、すべてを満たす解を探索させます。

例：
\`\`\`
以下の症例を分析してください。以下の制約をすべて満たす診断を提示してください：
- 年齢に適した疾患
- 性別に適した疾患
- 症状に一致する疾患
- 検査所見と矛盾しない疾患

症例: [症例情報]
\`\`\`

## メリット
- より正確な診断が可能
- 矛盾を避けられる
- 包括的な考慮が可能

## デメリット
- 制約が多すぎると解が存在しない場合がある
- プロンプトが複雑になる
- 処理が重くなる`,
    useCase: '複数の条件を満たす解が必要な場合',
    scenario: `外来診察で複数の慣性疾患を持つ高齢患者が来院した。医師は薬剤の相互作用や副作用を避けつつ、患者の既往歴や臨床検査結果を踏まえた最適な治療プランを立てる必要がある。`,
    promptTemplate: `以下の複数の制約をすべて満たす解を提示してください。`
  },
  {
    id: 'abductive-reasoning',
    title: '仮説推論',
    category: 'advanced',
    level: 'advanced',
    description: '観察から最良の説明を推論する',
    content: `仮説推論は、観察から最良の説明を推論する手法です。

## 基本的な使い方
観察から最良の説明を推論するよう指示します。

例：
\`\`\`
以下の観察から、最も説明力の高い診断を推論してください。
複数の仮説を検討し、観察を最もよく説明するものを選択してください。

観察: [観察事項]
\`\`\`

## メリット
- 観察に基づいた合理的な推論が可能
- 複数の仮説を体系的に検討できる
- 科学的思考が向上

## デメリット
- 推論が複雑になる
- 最良の説明の判断が難しい
- 主観が入る可能性がある`,
    useCase: '観察から診断を推論する場合',
    scenario: `救急外来で、発熱と胸部痛を訴える中年男性患者が来院した。血液検査の結果や胸部X線画像などの初期観察データをもとに、最も可能性の高い診断を迅速に推論する必要がある。`,
    promptTemplate: `観察結果から最良の説明を推論し、根拠を明示してください。`
  },

  // 医療特化 (約3個)
  {
    id: 'medical-guideline-adherence',
    title: '診療ガイドライン準拠',
    category: 'medical',
    level: 'intermediate',
    description: '診療ガイドラインに準拠した分析を行う',
    content: `診療ガイドライン準拠は、診療ガイドラインに準拠した分析を行う手法です。

## 基本的な使い方
特定のガイドラインに準拠するよう指示します。

例：
\`\`\`
以下の症例を分析してください。日本循環器学会のガイドラインに準拠して分析してください。

症例: [症例情報]
\`\`\`

## メリット
- 標準化された判断が可能
- エビデンスに基づいた分析
- 臨床実践に即した出力

## デメリット
- ガイドラインの更新が必要
- 個別性が失われる場合がある
- 最新のガイドラインが反映されない可能性`,
    useCase: '標準化された診療が必要な場合',
    scenario: `外来診療において、複数の慢性疾患を抱える高齢患者が来院した。医師は最新の診療ガイドラインに沿った適切な治療方針を迅速に決定し、標準的かつ安全なケアを提供する必要がある。`,
    promptTemplate: `診療ガイドラインに準拠した観点から分析し、推奨される診断・治療方針を示してください。`
  },
  {
    id: 'differential-diagnosis-framework',
    title: '鑑別診断フレームワーク',
    category: 'medical',
    level: 'intermediate',
    description: '体系的な鑑別診断フレームワークを使用する',
    content: `鑑別診断フレームワークは、体系的な鑑別診断フレームワークを使用する手法です。

## 基本的な使い方
特定のフレームワーク（VINDICATE、ANAMNESISなど）を使用するよう指示します。

例：
\`\`\`
以下の症例を分析してください。VINDICATEフレームワークを使用して鑑別診断を行ってください。

V: Vascular（血管性）
I: Infectious（感染性）
N: Neoplastic（腫瘍性）
D: Degenerative（変性性）
I: Iatrogenic（医原性）
C: Congenital（先天性）
A: Autoimmune（自己免疫性）
T: Traumatic（外傷性）
E: Endocrine（内分泌性）

症例: [症例情報]
\`\`\`

## メリット
- 体系的に鑑別診断が可能
- 見落としを防げる
- 教育効果が高い

## デメリット
- フレームワークの知識が必要
- プロンプトが長くなる
- すべてのカテゴリが関連するとは限らない`,
    useCase: '体系的に鑑別診断を行いたい場合',
    scenario: `救急外来で、原因が不明な胸痛を訴える患者が来院した。迅速かつ体系的に鑑別診断を行い、重篤な疾患の見落としを防ぐ必要がある。`,
    promptTemplate: `体系的な鑑別診断フレームワークを用いて、可能性のある疾患を段階的にリストアップし、根拠と優先順位を示してください。`
  },
  {
    id: 'risk-stratification',
    title: 'リスク層別化',
    category: 'medical',
    level: 'intermediate',
    description: '患者のリスクを層別化して評価する',
    content: `リスク層別化は、患者のリスクを層別化して評価する手法です。

## 基本的な使い方
リスクスコアや層別化ツールを使用するよう指示します。

例：
\`\`\`
以下の症例について、以下のリスク層別化を行ってください：
1. 緊急度の評価（低/中/高）
2. 重症度の評価（軽度/中等度/重度）
3. 予後の評価（良好/中間/不良）

症例: [症例情報]
\`\`\`

## メリット
- 優先順位が明確になる
- リスク管理が可能
- 資源配分が最適化できる

## デメリット
- 層別化の基準が必要
- 主観が入る可能性
- 過度に単純化される場合がある`,
    useCase: 'リスク管理や優先順位付けが必要な場合',
    scenario: `内科外来で慢性心不全の患者が来院し、心不全の悪化リスクを評価する必要がある。患者の既往歴やバイタルサイン、検査結果をもとにリスク層別化を行い、最適な治療計画を立てる場面。`,
    promptTemplate: `患者のリスクを層別化し、重症度や優先度に応じて評価してください。`
  },

  // 対話型 (約5個)
  {
    id: 'interactive-task-management',
    title: '対話型タスク管理',
    category: 'interactive',
    level: 'intermediate',
    description: '対話を通じてタスクを段階的に管理する',
    content: `対話型タスク管理は、対話を通じてタスクを段階的に管理する手法です。

## 基本的な使い方
対話を通じてタスクを分解し、段階的に実行します。

例：
\`\`\`
以下のタスクを対話を通じて管理してください：
1. タスクの分解
2. 各ステップの確認
3. 実行とフィードバック
4. 次のステップの決定

タスク: [タスク]
\`\`\`

## メリット
- 柔軟な対応が可能
- ユーザーの要望に合わせて調整できる
- 複雑なタスクにも対応可能

## デメリット
- 時間がかかる
- トークン消費が増える
- 会話が長くなりすぎる場合がある`,
    useCase: '複雑なタスクを段階的に実行したい場合',
    scenario: `多職種チームが複雑な患者の治療計画を立案するため、AIと対話しながら段階的に診断と治療方針を整理している。各ステップで情報を確認しつつ、適切な検査や処方を決定する必要がある場面。`,
    promptTemplate: `対話を通じて段階的にタスクを整理し、進行状況を確認しながら進めてください。`
  },
  {
    id: 'socratic-questioning',
    title: 'ソクラテス式質問',
    category: 'interactive',
    level: 'intermediate',
    description: '質問を通じて思考を深める',
    content: `ソクラテス式質問は、質問を通じて思考を深める手法です。

## 基本的な使い方
質問を投げかけて、ユーザーの思考を促します。

例：
\`\`\`
以下の症例について、ソクラテス式の質問を投げかけて、思考を深めてください：
- なぜこの症状が現れたのか？
- 他に考えられる原因は？
- どのように確認すべきか？

症例: [症例情報]
\`\`\`

## メリット
- 思考が深まる
- 学習効果が高い
- 自己発見が可能

## デメリット
- 時間がかかる
- 質問が不適切な場合がある
- ユーザーの負担が増える`,
    useCase: '学習や思考の深化が必要な場合',
    scenario: `若手医師が複雑な症例について臨床判断を行う際、症状や検査結果の意味を深く理解し、診断の根拠を明確にする必要がある。指導医がソクラテス式質問を用いて、思考過程を引き出しながら教育を行っている。`,
    promptTemplate: `質問を通じて患者の理解を深めるため、段階的に問いかけてください。`
  },
  {
    id: 'iterative-clarification',
    title: '反復的明確化',
    category: 'interactive',
    level: 'intermediate',
    description: '対話を通じて情報を明確化する',
    content: `反復的明確化は、対話を通じて情報を明確化する手法です。

## 基本的な使い方
不明確な点を質問し、情報を明確化します。

例：
\`\`\`
以下の症例を分析してください。不明確な点があれば質問してください。

症例: [症例情報]

（モデルが質問）
（ユーザーが回答）
（モデルが分析を更新）
\`\`\`

## メリット
- より正確な分析が可能
- 情報の不足を補える
- ユーザーとの協調が可能

## デメリット
- 時間がかかる
- 対話が長くなる
- ユーザーの負担が増える`,
    useCase: '情報が不足している場合',
    scenario: `診察中に患者から提供された症状の説明が曖昧で、正確な診断に必要な情報が不足している状況。医師はAIに対して疑問点を明確化しながら、患者の状態をより詳細に把握しようとしている。`,
    promptTemplate: `不明点があれば順に質問して明確化してください。`
  },
  {
    id: 'adaptive-prompting',
    title: '適応的プロンプティング',
    category: 'interactive',
    level: 'advanced',
    description: 'ユーザーの反応に応じてプロンプトを調整する',
    content: `適応的プロンプティングは、ユーザーの反応に応じてプロンプトを調整する手法です。

## 基本的な使い方
ユーザーの反応に基づいて、プロンプトを動的に調整します。

例：
\`\`\`
最初の分析: [分析結果]
ユーザーの反応: "もっと詳しく知りたい"
調整されたプロンプト: より詳細な分析を実行
\`\`\`

## メリット
- ユーザーの要望に柔軟に対応
- 最適な出力が得られる
- パーソナライズが可能

## デメリット
- 実装が複雑
- 調整ロジックが必要
- 予測が難しい`,
    useCase: 'ユーザーの要望に応じて動的に調整したい場合',
    scenario: `救急外来で多様な症例が次々と運ばれてくる中、患者の症状や緊急度に応じて柔軟に診断支援や治療方針提案を行う必要がある。AIにリアルタイムで状況を把握させ、患者ごとに最適な助言を得たい場面。`,
    promptTemplate: `状況に応じて回答を調整し、最適な情報を提供してください。`
  },
  {
    id: 'collaborative-reasoning',
    title: '協調的推論',
    category: 'interactive',
    level: 'advanced',
    description: 'ユーザーと協調して推論を行う',
    content: `協調的推論は、ユーザーと協調して推論を行う手法です。

## 基本的な使い方
ユーザーと対話しながら、共同で推論を進めます。

例：
\`\`\`
以下の症例について、一緒に分析しましょう。
私が仮説を提示し、あなたが検証してください。
あなたの意見も聞かせてください。

症例: [症例情報]
\`\`\`

## メリット
- ユーザーの知識を活用できる
- より包括的な分析が可能
- 学習効果が高い

## デメリット
- 時間がかかる
- ユーザーの負担が増える
- 対話の管理が複雑`,
    useCase: 'ユーザーと協調して分析したい場合',
    scenario: `慢性疾患を抱える患者の治療計画を立てるため、医師、看護師、薬剤師、理学療法士がチームで意見を出し合っている。各職種の専門的視点を統合し、患者に最適なケアプランを作成する必要がある。`,
    promptTemplate: `複数の視点から協調して推論し、総合的な診断や対応を導いてください。`
  }
];
