# Medical Prompt Hub 問題分析

## 発見した問題

### 1. プロンプト入力が反映されない問題

**現状の実装:**
- `prompts-full.ts`の`diagnosis-differential`プロンプトには、1つの入力フィールド`case_info`しか定義されていない
- しかし、テンプレートには主訴、現病歴、既往歴、バイタルサインの4つの項目がプレースホルダーとして含まれている
- スクリーンショットでは「症例情報」という1つのテキストエリアしか表示されていない

**問題の原因:**
```typescript
inputs: [
  { key: 'case_info', label: '症例情報', placeholder: '主訴、現病歴、既往歴、バイタルサインなどを入力', type: 'textarea' }
]
```

テンプレート内のプレースホルダー:
```
- 主訴: [主訴を入力]
- 現病歴: [現病歴を入力]
- 既往歴: [既往歴を入力]
- バイタルサイン: [バイタルサインを入力]
```

**問題:** `{{case_info}}`というキーでテンプレートを置換しようとしているが、テンプレート内には`{{case_info}}`というプレースホルダーが存在しない。そのため、ユーザーが入力しても反映されない。

### 2. UI/UX改善の必要性

**現状:**
- 自由記載のテキストエリアのみ
- 医学的に標準化された選択肢がない
- 穴埋め形式やプルダウンがない

**改善案:**
1. 各項目を個別の入力フィールドに分離
2. 主訴などはプルダウンで一般的な症状を選択可能に
3. バイタルサインは構造化された入力フィールド（体温、血圧、脈拍など）
4. 既往歴はチェックボックスで一般的な疾患を選択可能に

## 解決策

### Phase 2: プロンプト入力反映の修正
1. テンプレートとinputsの整合性を確保
2. `{{key}}`形式のプレースホルダーを正しく配置

### Phase 3: 全プロンプトのUI改善
1. 各プロンプトのinputsを詳細化
2. 適切な入力タイプ（text, textarea, select, checkbox）を設定
3. 医学的に標準化された選択肢を追加
4. 構造化された入力フォームの実装
