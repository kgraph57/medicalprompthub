var t=Object.defineProperty,e=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,l=(e,r,o)=>r in e?t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[r]=o,s=(t,e,r)=>new Promise((o,a)=>{var n=t=>{try{s(r.next(t))}catch(e){a(e)}},l=t=>{try{s(r.throw(t))}catch(e){a(e)}},s=t=>t.done?o(t.value):Promise.resolve(t.value).then(n,l);s((r=r.apply(t,e)).next())});import{r as c}from"./react-vendor-ape-2nEP-v19.js";import{f as i}from"./fastJsonStorage-BK3mZN54-v19.js";function u(){const[t,u]=c.useState(()=>{const t=localStorage.getItem("gamification-stats");if(t)try{return JSON.parse(t)}catch(e){console.error("Failed to load stats from localStorage",e)}return{totalXP:0,currentLevel:1,currentStreak:0,longestStreak:0,totalLessonsCompleted:0,totalQuizzesPassed:0}});return{stats:t,isLoading:!1,addXP:(c,p)=>s(null,null,function*(){const s=(t.totalXP||0)+c,f=(d=((t,e)=>{for(var r in e||(e={}))a.call(e,r)&&l(t,r,e[r]);if(o)for(var r of o(e))n.call(e,r)&&l(t,r,e[r]);return t})({},t),m={totalXP:s,currentLevel:(v=s,v<100?1:v<300?2:v<600?3:v<1e3?4:5)},e(d,r(m)));var d,m,v;u(f),i.setGamificationStats(f),console.log("Add XP:",c,p,"Total:",s)}),updateStreak:()=>s(null,null,function*(){console.log("Update streak (not implemented)")})}}export{u};
