import{j as t,r as e}from"./react-vendor-ape-2nEP-v19.js";import{u as o}from"./router-vendor-CAhwquxS-v19.js";import{T as r,c as n,d as s,a9 as a}from"./ui-vendor-Cc-7u0LA-v19.js";import{c as l}from"./prompts-BBXtTWgH-v19.js";import"./markdown-vendor-CQVOHG9V-v19.js";function c({text:e,query:o}){if(!o.trim())return t.jsx(t.Fragment,{children:e});const r=function(t,e){if(!e.trim())return t;const o=e.trim().split(/\s+/).filter(t=>t.length>0).map(t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"));if(0===o.length)return t;const r=new RegExp(`(${o.join("|")})`,"gi");return t.replace(r,'<mark class="bg-amber-200 dark:bg-amber-900/50 text-amber-900 dark:text-amber-200 rounded px-0.5">$1</mark>')}(e,o);return t.jsx("span",{"data-loc":"client/src/components/HighlightedText.tsx:17",dangerouslySetInnerHTML:{__html:r}})}const d=e.memo(function({prompt:e,searchQuery:s=""}){const[,a]=o(),l="high"===e.riskLevel?{badge:"bg-red-100 dark:bg-red-900/50 text-red-900 dark:text-red-100 border border-red-300 dark:border-red-700 font-semibold shadow-sm"}:"medium"===e.riskLevel?{badge:"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-900 dark:text-yellow-100 border border-yellow-300 dark:border-yellow-700 font-semibold shadow-sm"}:null;return t.jsxs("button",{"data-loc":"client/src/components/home/PromptCard.tsx:40",onClick:()=>a(`/prompts/${e.id}`),className:"\n        group relative w-full p-5\n        bg-background\n        rounded-xl\n        transition-all duration-300\n        text-left\n        shadow-[0_1px_2px_rgba(0,0,0,0.04),0_4px_16px_rgba(0,0,0,0.08)]\n        hover:shadow-lg hover:shadow-neutral-200/50 dark:hover:shadow-neutral-800/50\n        hover:-translate-y-1\n        active:translate-y-0\n      ",style:{outline:"1px solid rgba(0, 0, 0, 0.06)",outlineOffset:"-1px"},children:[t.jsxs("div",{"data-loc":"client/src/components/home/PromptCard.tsx:59",className:"flex items-center justify-between mb-3",children:[t.jsxs("div",{"data-loc":"client/src/components/home/PromptCard.tsx:60",className:"flex items-center gap-2",children:[t.jsx("span",{"data-loc":"client/src/components/home/PromptCard.tsx:61",className:"px-2 py-0.5 text-xs font-medium text-neutral-600 dark:text-neutral-400",children:e.category}),l&&t.jsxs("span",{"data-loc":"client/src/components/home/PromptCard.tsx:65",className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-md text-xs font-semibold ${l.badge}`,children:["high"===e.riskLevel&&t.jsx(r,{"data-loc":"client/src/components/home/PromptCard.tsx:66",className:"w-3.5 h-3.5"}),"high"===e.riskLevel?"高":"中"]})]}),t.jsx(n,{"data-loc":"client/src/components/home/PromptCard.tsx:71",className:"w-4 h-4 text-neutral-400 group-hover:text-neutral-600 dark:group-hover:text-neutral-300 transition-colors"})]}),t.jsx("h3",{"data-loc":"client/src/components/home/PromptCard.tsx:75",className:"text-base font-semibold mb-2 text-neutral-900 dark:text-neutral-100 group-hover:text-neutral-700 dark:group-hover:text-neutral-200 transition-colors truncate",children:t.jsx(c,{"data-loc":"client/src/components/home/PromptCard.tsx:76",text:e.title,query:s})}),t.jsx("p",{"data-loc":"client/src/components/home/PromptCard.tsx:80",className:"text-sm leading-relaxed line-clamp-2 text-neutral-600 dark:text-neutral-400",children:t.jsx(c,{"data-loc":"client/src/components/home/PromptCard.tsx:81",text:e.description,query:s})})]})}),i={diagnosis:{color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-50 dark:bg-blue-950/20",borderColor:"border-blue-200 dark:border-blue-800"},treatment:{color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-50 dark:bg-emerald-950/20",borderColor:"border-emerald-200 dark:border-emerald-800"},documentation:{color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-50 dark:bg-indigo-950/20",borderColor:"border-indigo-200 dark:border-indigo-800"},medication:{color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-50 dark:bg-orange-950/20",borderColor:"border-orange-200 dark:border-orange-800"},communication:{color:"text-cyan-600 dark:text-cyan-400",bgColor:"bg-cyan-50 dark:bg-cyan-950/20",borderColor:"border-cyan-200 dark:border-cyan-800"},"shared-decision-making":{color:"text-rose-600 dark:text-rose-400",bgColor:"bg-rose-50 dark:bg-rose-950/20",borderColor:"border-rose-200 dark:border-rose-800"},literature:{color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-50 dark:bg-indigo-950/20",borderColor:"border-indigo-200 dark:border-indigo-800"},research:{color:"text-violet-600 dark:text-violet-400",bgColor:"bg-violet-50 dark:bg-violet-950/20",borderColor:"border-violet-200 dark:border-violet-800"},"case-analysis":{color:"text-teal-600 dark:text-teal-400",bgColor:"bg-teal-50 dark:bg-teal-950/20",borderColor:"border-teal-200 dark:border-teal-800"},education:{color:"text-lime-600 dark:text-lime-400",bgColor:"bg-lime-50 dark:bg-lime-950/20",borderColor:"border-lime-200 dark:border-lime-800"},administrative:{color:"text-slate-600 dark:text-slate-400",bgColor:"bg-slate-50 dark:bg-slate-950/20",borderColor:"border-slate-200 dark:border-slate-800"}},m=e.memo(function({prompts:o,searchQuery:r,selectedCategory:n,onClearFilters:c}){const[m,x]=e.useState(new Set),[p,h]=e.useState(n||"all"),b=e.useRef(null),[u,g]=e.useState(!1),[k,v]=e.useState(!0),f=e.useMemo(()=>{const t={};return l.forEach(e=>{t[e.id]=o.filter(t=>t.category===e.id)}),t.all=o,t},[o]),j=e.useMemo(()=>{if("all"===p)return[];const t=f[p]||[];return r||m.has(p)?t:t.slice(0,9)},[f,p,m,r]),P=t=>{var e;return!r&&!m.has(t)&&((null==(e=f[t])?void 0:e.length)||0)>9},S=t=>{x(e=>{const o=new Set(e);return o.has(t)?o.delete(t):o.add(t),o})};e.useEffect(()=>{const t=b.current;if(!t)return;const e=()=>{const{scrollLeft:e,scrollWidth:o,clientWidth:r}=t;g(e>0),v(e<o-r-1)};e(),t.addEventListener("scroll",e);const o=new ResizeObserver(e);return o.observe(t),()=>{t.removeEventListener("scroll",e),o.disconnect()}},[]);const y=({prompts:o,categoryId:n})=>{const s=e.useRef(null),[a,l]=e.useState(!1),[c,i]=e.useState(!0);return e.useEffect(()=>{const t=s.current;if(!t)return;const e=()=>{const{scrollLeft:e,scrollWidth:o,clientWidth:r}=t;l(e>0),i(e<o-r-1)};e(),t.addEventListener("scroll",e);const o=new ResizeObserver(e);return o.observe(t),()=>{t.removeEventListener("scroll",e),o.disconnect()}},[o]),o.length<3?t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:194",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:o.map(e=>t.jsx(d,{"data-loc":"client/src/components/home/PromptGridSection.tsx:196",prompt:e,searchQuery:r},e.id))}):t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:204",className:"relative -mx-4 md:-mx-6 px-4 md:px-6",children:[a&&t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:207",className:"absolute left-0 top-0 bottom-0 w-8 bg-gradient-to-r from-background to-transparent pointer-events-none z-10"}),c&&t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:211",className:"absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-background to-transparent pointer-events-none z-10"}),t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:213",ref:s,className:"flex gap-4 md:gap-6 overflow-x-auto pb-2 scrollbar-hide snap-x snap-mandatory",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:o.map(e=>t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:219",className:"flex-shrink-0 w-full sm:w-[calc(50vw-2rem)] md:w-[320px] lg:w-[360px] snap-start",children:t.jsx(d,{"data-loc":"client/src/components/home/PromptGridSection.tsx:220",prompt:e,searchQuery:r})},e.id))})]})};return r||n?t.jsx("section",{"data-loc":"client/src/components/home/PromptGridSection.tsx:233",className:"py-6 md:py-8",children:t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:234",className:"max-w-7xl mx-auto px-4 md:px-6",children:[t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:235",className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:236",children:[t.jsx("h2",{"data-loc":"client/src/components/home/PromptGridSection.tsx:237",className:"text-lg md:text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:"検索結果"}),t.jsxs("p",{"data-loc":"client/src/components/home/PromptGridSection.tsx:240",className:"text-sm text-neutral-500 dark:text-neutral-400 mt-1",children:[o.length,"件のプロンプト"]})]}),n&&t.jsx("button",{"data-loc":"client/src/components/home/PromptGridSection.tsx:246",onClick:c,className:"px-3 py-1.5 text-sm font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-neutral-100 transition-colors",children:"クリア"})]}),o.length>0?t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:256",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:o.map(e=>t.jsx(d,{"data-loc":"client/src/components/home/PromptGridSection.tsx:258",prompt:e,searchQuery:r},e.id))}):t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:262",className:"text-center py-16 md:py-24",children:[t.jsx(s,{"data-loc":"client/src/components/home/PromptGridSection.tsx:263",className:"w-12 h-12 mx-auto mb-4 text-neutral-300 dark:text-neutral-600"}),t.jsx("h3",{"data-loc":"client/src/components/home/PromptGridSection.tsx:264",className:"text-lg font-semibold mb-2 text-neutral-900 dark:text-neutral-100",children:"プロンプトが見つかりませんでした"}),t.jsx("p",{"data-loc":"client/src/components/home/PromptGridSection.tsx:267",className:"text-sm text-neutral-500 dark:text-neutral-400 mb-6",children:"検索条件を変更してお試しください"}),t.jsx("button",{"data-loc":"client/src/components/home/PromptGridSection.tsx:270",onClick:c,className:"px-4 py-2 text-sm font-medium text-white bg-neutral-900 dark:bg-neutral-100 hover:bg-neutral-800 dark:hover:bg-neutral-200 rounded-lg transition-colors",children:"検索をクリア"})]})]})}):t.jsx("section",{"data-loc":"client/src/components/home/PromptGridSection.tsx:284",className:"py-8 md:py-12",children:t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:285",className:"max-w-7xl mx-auto px-4 md:px-6",children:[t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:287",className:"mb-8 md:mb-12",children:[t.jsx("h2",{"data-loc":"client/src/components/home/PromptGridSection.tsx:288",className:"text-2xl md:text-3xl font-bold text-neutral-900 dark:text-neutral-100 mb-2",children:"プロンプトライブラリ"}),t.jsxs("p",{"data-loc":"client/src/components/home/PromptGridSection.tsx:291",className:"text-sm md:text-base text-neutral-500 dark:text-neutral-400",children:[o.length,"件のプロンプトから選べます（",l.filter(t=>(f[t.id]||[]).length>0).length,"ジャンル）"]})]}),t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:297",className:"mb-8 md:mb-12",children:t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:298",className:"relative -mx-4 md:-mx-6 px-4 md:px-6",children:[u&&t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:301",className:"absolute left-0 top-0 bottom-2 w-8 bg-gradient-to-r from-background to-transparent pointer-events-none z-10"}),k&&t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:305",className:"absolute right-0 top-0 bottom-2 w-8 bg-gradient-to-l from-background to-transparent pointer-events-none z-10"}),t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:307",ref:b,className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[t.jsx("button",{"data-loc":"client/src/components/home/PromptGridSection.tsx:311",onClick:()=>{h("all"),c()},className:`\n                  flex-shrink-0 px-4 py-2 text-sm font-medium rounded-lg transition-colors whitespace-nowrap\n                  ${"all"===p?"bg-neutral-900 dark:bg-neutral-100 text-white dark:text-neutral-900":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-700"}\n                `,children:"すべて"}),l.map(e=>{const o=i[e.id],r=f[e.id]||[],n=p===e.id;return t.jsxs("button",{"data-loc":"client/src/components/home/PromptGridSection.tsx:332",onClick:()=>h(e.id),disabled:0===r.length,className:`\n                      flex-shrink-0 px-4 py-2 text-sm font-medium rounded-lg transition-colors\n                      disabled:opacity-40 disabled:cursor-not-allowed\n                      ${n?`${o.bgColor} ${o.color} border ${o.borderColor}`:"bg-neutral-100 dark:bg-neutral-800 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-700"}\n                    `,children:[e.label,t.jsxs("span",{"data-loc":"client/src/components/home/PromptGridSection.tsx:346",className:"ml-1.5 text-xs opacity-60",children:["(",r.length,")"]})]},e.id)})]})]})}),"all"===p?t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:357",className:"space-y-12 md:space-y-16",children:l.filter(t=>(f[t.id]||[]).length>0).map(e=>{const o=i[e.id],n=f[e.id]||[],s=(t=>{const e=f[t]||[];return m.has(t)||r?e:e.slice(0,9)})(e.id),l=P(e.id);return t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:367",className:"space-y-6",children:[t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:369",className:"flex items-center justify-between",children:t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:370",children:[t.jsx("h3",{"data-loc":"client/src/components/home/PromptGridSection.tsx:371",className:`text-lg md:text-xl font-semibold ${o.color} mb-1`,children:e.label}),t.jsxs("p",{"data-loc":"client/src/components/home/PromptGridSection.tsx:374",className:"text-sm text-neutral-500 dark:text-neutral-400",children:[e.description," · ",n.length,"件"]})]})}),t.jsx(y,{"data-loc":"client/src/components/home/PromptGridSection.tsx:381",prompts:s,categoryId:e.id}),l&&t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:385",className:"flex justify-center pt-2",children:t.jsxs("button",{"data-loc":"client/src/components/home/PromptGridSection.tsx:386",onClick:()=>S(e.id),className:`\n                            flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg\n                            transition-colors\n                            ${o.bgColor} ${o.color}\n                            border ${o.borderColor}\n                            hover:opacity-80\n                          `,children:[m.has(e.id)?"折りたたむ":"もっと見る",t.jsx(a,{"data-loc":"client/src/components/home/PromptGridSection.tsx:397",className:"w-4 h-4 transition-transform "+(m.has(e.id)?"rotate-90":"")})]})})]},e.id)})}):j.length>0?t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:410",className:"space-y-6",children:[(()=>{const e=i[p],o=l.find(t=>t.id===p);return t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:416",className:"mb-6",children:[t.jsx("h3",{"data-loc":"client/src/components/home/PromptGridSection.tsx:417",className:`text-xl md:text-2xl font-semibold ${e.color} mb-2`,children:null==o?void 0:o.label}),t.jsx("p",{"data-loc":"client/src/components/home/PromptGridSection.tsx:420",className:"text-sm md:text-base text-neutral-600 dark:text-neutral-400",children:null==o?void 0:o.description})]})})(),t.jsx(y,{"data-loc":"client/src/components/home/PromptGridSection.tsx:428",prompts:j,categoryId:p}),P(p)&&t.jsx("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:432",className:"flex justify-center pt-4",children:t.jsxs("button",{"data-loc":"client/src/components/home/PromptGridSection.tsx:433",onClick:()=>S(p),className:`\n                      flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg\n                      transition-colors\n                      ${i[p].bgColor}\n                      ${i[p].color}\n                      border ${i[p].borderColor}\n                      hover:opacity-80\n                    `,children:[m.has(p)?"折りたたむ":"もっと見る",t.jsx(a,{"data-loc":"client/src/components/home/PromptGridSection.tsx:445",className:"w-4 h-4 transition-transform "+(m.has(p)?"rotate-90":"")})]})})]}):t.jsxs("div",{"data-loc":"client/src/components/home/PromptGridSection.tsx:453",className:"text-center py-16 md:py-24",children:[t.jsx(s,{"data-loc":"client/src/components/home/PromptGridSection.tsx:454",className:"w-12 h-12 mx-auto mb-4 text-neutral-300 dark:text-neutral-600"}),t.jsx("h3",{"data-loc":"client/src/components/home/PromptGridSection.tsx:455",className:"text-lg font-semibold mb-2 text-neutral-900 dark:text-neutral-100",children:"プロンプトが見つかりませんでした"}),t.jsx("p",{"data-loc":"client/src/components/home/PromptGridSection.tsx:458",className:"text-sm text-neutral-500 dark:text-neutral-400",children:"このカテゴリにはまだプロンプトがありません"})]})]})})});export{m as PromptGridSection};
