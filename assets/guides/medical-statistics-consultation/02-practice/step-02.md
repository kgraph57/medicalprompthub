## 統計解析の実行と結果の解釈

### 1. AIによる統計コードの生成と実行

AIは、SAPで決定した解析手法に基づき、RやPythonなどの統計解析ソフトウェアで実行可能なコードスニペットを生成するのに非常に有用です。これにより、手作業によるコーディングミスを減らし、解析の再現性を高めることができます。

コード生成のステップ:

1.  解析手法の指定: 使用する統計手法（例：線形回帰、生存分析）を明確に伝えます。
2.  変数名の指定: データセット内の正確な列名（変数名）をAIに伝えます。
3.  ソフトウェアとライブラリの指定: RまたはPython、使用するライブラリ（例：`tidyverse`, `statsmodels`, `survival`）を指定します。

![統計結果の解釈](/assets/guides/medical-statistics-consultation/interpretation.png)

### 2. 実用的なプロンプト例：コード生成と結果の解釈

プロンプト例 1: Cox比例ハザードモデルのコード生成

```
あなたはR言語の熟練した統計プログラマーです。
データフレーム名「patient_data」を使用し、以下の変数でCox比例ハザードモデルを実行するRコードを生成してください。

- 時間変数: `time_to_event`
- イベント変数: `event_status` (1=イベント発生, 0=打ち切り)
- 説明変数: `treatment_group` (カテゴリ), `age` (連続), `comorbidity_index` (連続)

結果のハザード比（HR）、95%信頼区間、p値を整形して出力する部分まで含めてください。
```

プロンプト例 2: 解析結果の解釈支援

```
上記のCox比例ハザードモデルを実行した結果、以下の出力が得られました。
この結果を、臨床医向けに分かりやすく解説してください。

[AIが出力した結果の例]
- treatment_groupB: HR = 0.75 (95% CI: 0.60 - 0.94), p = 0.012
- age: HR = 1.03 (95% CI: 1.01 - 1.05), p = 0.005
- comorbidity_index: HR = 1.10 (95% CI: 1.05 - 1.15), p < 0.001

特に、`treatment_groupB`の結果が臨床的にどのような意味を持つか、「標準治療と比較してイベント発生リスクが25%低い」という形で具体的に表現してください。
```

### 3. 注意点とTips：結果の妥当性を検証する

*   前提条件のチェック: 統計モデルにはそれぞれ前提条件があります（例：線形回帰の残差の正規性、Coxモデルの比例ハザード性）。AIに前提条件をチェックするためのコード（例：CoxモデルのSchoenfeld残差プロット）を生成させ、その結果の解釈も依頼してください。
*   視覚化の活用: 解析結果は、グラフや図で視覚化することで、より直感的に理解できます。AIに「フォレストプロット」や「カプランマイヤー曲線」の描画コードを生成させ、結果の解釈を補強してください。
*   統計的有意性 ≠ 臨床的意義: p値が小さくても、効果量（HRやオッズ比）が臨床的に意味のない範囲であれば、その結果は実用性が低い可能性があります。AIの解釈を参考にしつつ、臨床的な視点から結果の重要性を判断してください。

### 次のステップへ

解析結果を論文や報告書としてまとめる段階に進みます。
→ [02-practice/step-03.md: 論文執筆のための結果セクション作成支援] へ進む
