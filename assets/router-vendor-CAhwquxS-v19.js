var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,a=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,c=(e,t)=>{for(var r in t||(t={}))o.call(t,r)&&a(e,r,t[r]);if(n)for(var r of n(t))s.call(t,r)&&a(e,r,t[r]);return e},l=(e,t)=>{var r={};for(var a in e)o.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&n)for(var a of n(e))t.indexOf(a)<0&&s.call(e,a)&&(r[a]=e[a]);return r};import{e as i,r as u,R as f}from"./react-vendor-ape-2nEP-v19.js";var h,p,d={exports:{}},v={};var y=(p||(p=1,d.exports=function(){if(h)return v;h=1;var e=i(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=e.useState,n=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function a(e){var r=e.getSnapshot;e=e.value;try{var n=r();return!t(e,n)}catch(o){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var c=t(),l=r({inst:{value:c,getSnapshot:t}}),i=l[0].inst,u=l[1];return o(function(){i.value=c,i.getSnapshot=t,a(i)&&u({inst:i})},[e,c,t]),n(function(){return a(i)&&u({inst:i}),e(function(){a(i)&&u({inst:i})})},[e]),s(c),c};return v.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:c,v}()),d.exports);const m=f.useInsertionEffect,b=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?u.useLayoutEffect:u.useEffect,E=m||b,w=e=>{const t=u.useRef([e,(...e)=>t[0](...e)]).current;return E(()=>{t[0]=e}),t[1]},x="pushState",O="replaceState",g=["popstate",x,O,"hashchange"],S=e=>{for(const t of g)addEventListener(t,e);return()=>{for(const t of g)removeEventListener(t,e)}},k=(e,t)=>y.useSyncExternalStore(S,e,t),j=()=>location.search,C=()=>location.pathname,P=({ssrPath:e}={})=>k(C,null!=e?()=>e:C),R=(e,{replace:t=!1,state:r=null}={})=>history[t?O:x](r,"",e),L=Symbol.for("wouter_v3");if("undefined"!=typeof history&&void 0===window[L]){for(const e of[x,O]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,L,{value:!0})}const H=(e="")=>"/"===e?"":e,K=(e="",t)=>((e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/")(D(H(e)),D(t)),D=e=>{try{return decodeURI(e)}catch(t){return e}},I={hook:(e={})=>[P(e),R],searchHook:({ssrSearch:e}={})=>k(j,null!=e?()=>e:j),parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,o,s,a=[],c="",l=e.split("/");for(l[0]||l.shift();o=l.shift();)"*"===(r=o[0])?(a.push(r),c+="?"===o[1]?"(?:/(.*))?":"/(.*)"):":"===r?(n=o.indexOf("?",1),s=o.indexOf(".",1),a.push(o.substring(1,~n?n:~s?s:o.length)),c+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(c+=(~n?"?":"")+"\\"+o.substring(s))):c+="/"+o;return{keys:a,pattern:new RegExp("^"+c+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},N=u.createContext(I),V=()=>u.useContext(N),A={},$=u.createContext(A),F=()=>u.useContext($),M=e=>{const[t,r]=e.hook(e);return[K(e.base,t),w((t,n)=>r(((e,t)=>"~"===e[0]?e.slice(1):H(t)+e)(t,e.base),n))]},U=()=>M(V()),_=(e,t,r,n)=>{const{pattern:o,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),a=o.exec(r)||[],[l,...i]=a;return void 0!==l?[!0,(()=>{const e=!1!==s?Object.fromEntries(s.map((e,t)=>[e,i[t]])):a.groups;let t=c({},i);return e&&Object.assign(t,e),t})(),...n?[l]:[]]:[!1,null]},q=e=>_(V().parser,e,U()[0]),z=e=>{var t,r,n,o,s,a,i,f,h,p=e,{children:d}=p,v=l(p,["children"]);const y=V(),m=v.hook?I:y;let b=m;const[E,w=(null!=(t=v.ssrSearch)?t:"")]=null!=(n=null==(r=v.ssrPath)?void 0:r.split("?"))?n:[];E&&(v.ssrSearch=w,v.ssrPath=E),v.hrefs=null!=(s=v.hrefs)?s:null==(o=v.hook)?void 0:o.hrefs,v.searchHook=null!=(i=v.searchHook)?i:null==(a=v.hook)?void 0:a.searchHook;let x=u.useRef({}),O=x.current,g=O;for(let l in m){const e="base"===l?m[l]+(null!=(f=v[l])?f:""):null!=(h=v[l])?h:m[l];O===g&&e!==g[l]&&(x.current=g=c({},g)),g[l]=e,e===m[l]&&e===b[l]||(b=g)}return u.createElement(N.Provider,{value:b,children:d})},B=({children:e,component:t},r)=>t?u.createElement(t,{params:r}):"function"==typeof e?e(r):e,G=e=>{var t=e,{path:r,nest:n,match:o}=t,s=l(t,["path","nest","match"]);const a=V(),[i]=M(a),[f,h,p]=null!=o?o:_(a.parser,r,i,n),d=(e=>{let t=u.useRef(A);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([e,t])=>t!==r[e])?e:r})(c(c({},F()),h));if(!f)return null;const v=p?u.createElement(z,{base:p},B(s,d)):B(s,d);return u.createElement($.Provider,{value:d,children:v})},J=u.forwardRef((e,n)=>{const o=V(),[s,a]=M(o),i=e,{to:f="",href:h=f,onClick:p,asChild:d,children:v,className:y,replace:m,state:b}=i,E=l(i,["to","href","onClick","asChild","children","className","replace","state"]),x=w(t=>{t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button||(null==p||p(t),t.defaultPrevented||(t.preventDefault(),a(h,e)))}),O=o.hrefs("~"===h[0]?h.slice(1):o.base+h,o);return d&&u.isValidElement(v)?u.cloneElement(v,{onClick:x,href:O}):u.createElement("a",(g=c({},E),S={onClick:x,href:O,className:(null==y?void 0:y.call)?y(s===h):y,children:v,ref:n},t(g,r(S))));var g,S}),Q=e=>Array.isArray(e)?e.flatMap(e=>Q(e&&e.type===u.Fragment?e.props.children:e)):[e],T=({children:e,location:t})=>{const r=V(),[n]=M(r);for(const o of Q(e)){let e=0;if(u.isValidElement(o)&&(e=_(r.parser,o.props.path,t||n,o.props.nest))[0])return u.cloneElement(o,{match:e})}return null};export{J as L,z as R,T as S,G as a,q as b,F as c,U as u};
